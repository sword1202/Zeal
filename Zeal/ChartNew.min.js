var charJSPersonnalDefaultOptions={};var charJSPersonnalDefaultOptionsLine={};var charJSPersonnalDefaultOptionsRadar={};var charJSPersonnalDefaultOptionsPolarArea={};var charJSPersonnalDefaultOptionsPie={};var charJSPersonnalDefaultOptionsDoughnut={};var charJSPersonnalDefaultOptionsBar={};var charJSPersonnalDefaultOptionsStackedBar={};var charJSPersonnalDefaultOptionsHorizontalBar={};var charJSPersonnalDefaultOptionsHorizontalStackedBar={};function roundToWithThousands(e,d,b){var f=1*unFormat(e,d);if(typeof(f)=="number"&&b!="none"){if(b<=0){var c=-b;f=+(Math.round(f+"e+"+c)+"e-"+c)}else{var c=b;var a="1e+"+c;value=+(Math.round(f/a))*a}}f=fmtChartJS(e,f,"none");return(f)}function unFormat(b,a){if((b.decimalSeparator!="."||b.thousandSeparator!="")&&typeof(a)=="string"){var c=""+a;if(b.thousandSeparator!=""){while(c.indexOf(b.thousandSeparator)>=0){c=""+c.replace(b.thousandSeparator,"")}}if(b.decimalSeparator!="."){c=""+c.replace(b.decimalSeparator,".")}return 1*c}else{return a}}var cachebis={};function fmtChartJSPerso(b,c,a){switch(a){case"SampleJS_Format":if(typeof(c)=="number"){return_value="My Format : "+c.toString()+" $"}else{return_value=c+"XX"}break;case"Change_Month":if(typeof(c)=="string"){return_value=c.toString()+" 2014"}else{return_value=c.toString()+"YY"}break;default:return_value=c;break}return(return_value)}function fmtChartJS(c,f,d){var g;if(d=="notformatted"){g=f}else{if(d=="none"&&typeof(f)=="number"){if(c.roundNumber!="none"){if(c.roundNumber<=0){var a=-c.roundNumber;f=+(Math.round(f+"e+"+a)+"e-"+a)}else{var a=c.roundNumber;var j="1e+"+a;f=+(Math.round(f/j))*j}}if(c.decimalSeparator!="."||c.thousandSeparator!=""){g=f.toString().replace(/\./g,c.decimalSeparator);if(c.thousandSeparator!=","){var e=g;var b="";var h=e.indexOf(c.decimalSeparator);if(h>=0){b=e.substring(h+1,e.length);b=b.split("").reverse().join("");e=e.substring(0,h)}e=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,c.thousandSeparator);b=b.split("").reverse().join("");g=e;if(b!=""){g=g+c.decimalSeparator+b}}}else{g=f}}else{if(d!="none"&&d!="notformatted"){g=fmtChartJSPerso(c,f,d)}else{g=f}}}return(g)}function tmplbis(c,b){var a=!/\W/.test(c)?cachebis[c]=cachebis[c]||tmplbis(document.getElementById(c).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return b?a(b):a}cursorDivCreated=false;function createCursorDiv(){if(cursorDivCreated==false){var a=document.createElement("divCursor");a.id="divCursor";a.style.position="absolute";document.body.appendChild(a);cursorDivCreated=true}}function checkBrowser(){this.ver=navigator.appVersion;this.dom=document.getElementById?1:0;this.ie5=(this.ver.indexOf("MSIE 5")>-1&&this.dom)?1:0;this.ie4=(document.all&&!this.dom)?1:0;this.ns5=(this.dom&&parseInt(this.ver)>=5)?1:0;this.ns4=(document.layers&&!this.dom)?1:0;this.bw=(this.ie5||this.ie4||this.ns4||this.ns5);return this}bw=new checkBrowser();fromLeft=10;fromTop=10;function cursorInit(){scrolled=bw.ns4||bw.ns5?"window.pageYOffset":"document.body.scrollTop";if(bw.ns4){document.captureEvents(Event.MOUSEMOVE)}}function makeCursorObj(obj,nest){createCursorDiv();nest=(!nest)?"":"document."+nest+".";this.css=bw.dom?document.getElementById(obj).style:bw.ie4?document.all[obj].style:bw.ns4?eval(nest+"document.layers."+obj):0;this.moveIt=b_moveIt;cursorInit();return this}function b_moveIt(a,b){this.x=a;this.y=b;this.css.left=this.x+"px";this.css.top=this.y+"px"}function isIE(){var a=navigator.userAgent.toLowerCase();return(a.indexOf("msie")!=-1)?parseInt(a.split("msie")[1]):false}function mergeChartConfig(d,b){var a={};for(var c in d){a[c]=d[c]}for(var c in b){a[c]=b[c]}return a}function sleep(a){var b=new Date();b.setTime(b.getTime()+a);while(new Date().getTime()<b.getTime()){}}function saveCanvas(b,f,c,d){cvSave=b.getImageData(0,0,b.canvas.width,b.canvas.height);var a={savePng:false,annotateDisplay:false,animation:false,dynamicDisplay:false};var e=mergeChartConfig(c,a);e.clearRect=false;switch(d){case"Bar":new Chart(b.canvas.getContext("2d")).Bar(f,e);break;case"Pie":new Chart(b.canvas.getContext("2d")).Pie(f,e);break;case"Doughnut":new Chart(b.canvas.getContext("2d")).Doughnut(f,e);break;case"Radar":new Chart(b.canvas.getContext("2d")).Radar(f,e);break;case"PolarArea":new Chart(b.canvas.getContext("2d")).PolarArea(f,e);break;case"HorizontalBar":new Chart(b.canvas.getContext("2d")).HorizontalBar(f,e);break;case"StackedBar":new Chart(b.canvas.getContext("2d")).StackedBar(f,e);break;case"HorizontalStackedBar":new Chart(b.canvas.getContext("2d")).HorizontalStackedBar(f,e);break;case"Line":new Chart(b.canvas.getContext("2d")).Line(f,e);break}if(c.savePngOuput=="NewWindow"){var g=b.canvas.toDataURL();b.putImageData(cvSave,0,0);window.open(g)}if(c.savePngOuput=="CurrentWindow"){var g=b.canvas.toDataURL();b.putImageData(cvSave,0,0);window.location.href=g}if(c.savePngOuput=="Save"){document.location.href=b.canvas.toDataURL("image/png").replace("image/png","image/octet-stream");b.putImageData(cvSave,0,0)}}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}var dynamicDisplay=new Array();var dynamicDisplayList=new Array();function dynamicFunction(d,b,a,c){if(b.dynamicDisplay){if(typeof(dynamicDisplay[a.canvas.id])=="undefined"){dynamicDisplayList[dynamicDisplayList.length]=a.canvas.id;dynamicDisplay[a.canvas.id]=[a.canvas,false,false,d,b,a.canvas,c];dynamicDisplay[a.canvas.id][1]=isScrolledIntoView(a.canvas);window.onscroll=scrollFunction}if(dynamicDisplay[a.canvas.id][1]==false||dynamicDisplay[a.canvas.id][2]==true){return false}dynamicDisplay[a.canvas.id][2]=true}return true}function isScrolledIntoView(a){var c=0;var b=0;elem=a;while(elem){c+=(elem.offsetLeft-elem.scrollLeft+elem.clientLeft);b+=(elem.offsetTop-elem.scrollTop+elem.clientTop);elem=elem.offsetParent}if(c+a.width/2>=window.pageXOffset&&c+a.width/2<=window.pageXOffset+window.innerWidth&&b+a.height/2>=window.pageYOffset&&b+a.height/2<=window.pageYOffset+window.innerHeight){return(true)}else{return false}}function scrollFunction(){for(var a=0;a<dynamicDisplayList.length;a++){if(isScrolledIntoView(dynamicDisplay[dynamicDisplayList[a]][5])&&dynamicDisplay[dynamicDisplayList[a]][2]==false){dynamicDisplay[dynamicDisplayList[a]][1]=true;switch(dynamicDisplay[dynamicDisplayList[a]][6]){case"Bar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Bar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Pie":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Pie(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Doughnut":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Doughnut(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Radar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Radar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"PolarArea":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).PolarArea(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"HorizontalBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).HorizontalBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"StackedBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).StackedBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"HorizontalStackedBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).HorizontalStackedBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Line":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Line(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break}}}}var jsGraphAnnotate=new Array();function getMousePos(b,a){var c=b.getBoundingClientRect();return{x:a.clientX-c.left,y:a.clientY-c.top}}function doMouseMove(ctx,config,event){var annotateDIV=document.getElementById("divCursor");show=false;annotateDIV.className=(config.annotateClassName)?config.annotateClassName:"";annotateDIV.style.border=(config.annotateClassName)?"":config.annotateBorder;annotateDIV.style.padding=(config.annotateClassName)?"":config.annotatePadding;annotateDIV.style.borderRadius=(config.annotateClassName)?"":config.annotateBorderRadius;annotateDIV.style.backgroundColor=(config.annotateClassName)?"":config.annotateBackgroundColor;annotateDIV.style.color=(config.annotateClassName)?"":config.annotateFontColor;annotateDIV.style.fontFamily=(config.annotateClassName)?"":config.annotateFontFamily;annotateDIV.style.fontSize=(config.annotateClassName)?"":config.annotateFontSize;annotateDIV.style.fontStyle=(config.annotateClassName)?"":config.annotateFontStyle;canvas_pos=getMousePos(ctx.canvas,event);for(i=0;i<jsGraphAnnotate[ctx.canvas.id]["length"];i++){if(jsGraphAnnotate[ctx.canvas.id][i][0]=="ARC"){distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])*(canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])+(canvas_pos.y-jsGraphAnnotate[ctx.canvas.id][i][2])*(canvas_pos.y-jsGraphAnnotate[ctx.canvas.id][i][2]));if(distance>jsGraphAnnotate[ctx.canvas.id][i][3]&&distance<jsGraphAnnotate[ctx.canvas.id][i][4]){angle=Math.acos((canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])/distance);if(canvas_pos.y<jsGraphAnnotate[ctx.canvas.id][i][2]){angle=-angle}while(angle<0){angle+=2*Math.PI}while(angle>2*Math.PI){angle-=2*Math.PI}if(angle<config.startAngle*(Math.PI/360)){angle+=2*Math.PI}if((angle>jsGraphAnnotate[ctx.canvas.id][i][5]&&angle<jsGraphAnnotate[ctx.canvas.id][i][6])||(angle>jsGraphAnnotate[ctx.canvas.id][i][5]-2*Math.PI&&angle<jsGraphAnnotate[ctx.canvas.id][i][6]-2*Math.PI)||(angle>jsGraphAnnotate[ctx.canvas.id][i][5]+2*Math.PI&&angle<jsGraphAnnotate[ctx.canvas.id][i][6]+2*Math.PI)){v1=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][7],config.fmtV1);v2=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][8],config.fmtV2);v3=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV3);v4=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][10],config.fmtV4);v5=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][11],config.fmtV5);v6=fmtChartJS(config,100*jsGraphAnnotate[ctx.canvas.id][i][8]/jsGraphAnnotate[ctx.canvas.id][i][10],config.fmtV6);v6=roundToWithThousands(config,v6,config.roundPct);v7=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][1],config.fmtV7);v8=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][2],config.fmtV8);v9=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][3],config.fmtV9);v10=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][4],config.fmtV10);v11=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][5],config.fmtV11);v12=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][6],config.fmtV12);v13=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][12],config.fmtV13);graphPosX=canvas_pos.x;graphPosY=canvas_pos.y;dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,v13:v13,graphPosX:graphPosX,graphPosY:graphPosY});annotateDIV.innerHTML=dispString;show=true;x=bw.ns4||bw.ns5?event.pageX:event.x;y=bw.ns4||bw.ns5?event.pageY:event.y;if(bw.ie4||bw.ie5){y=y+eval(scrolled)}oCursor.moveIt(x+fromLeft,y+fromTop)}}}else{if(jsGraphAnnotate[ctx.canvas.id][i][0]=="RECT"){if(canvas_pos.x>jsGraphAnnotate[ctx.canvas.id][i][1]&&canvas_pos.x<jsGraphAnnotate[ctx.canvas.id][i][3]&&canvas_pos.y<jsGraphAnnotate[ctx.canvas.id][i][2]&&canvas_pos.y>jsGraphAnnotate[ctx.canvas.id][i][4]){v1=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][5],config.fmtV1);v2=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][6],config.fmtV2);v3=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][7],config.fmtV3);v4=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][8],config.fmtV4);v5=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV5);v6=fmtChartJS(config,100*jsGraphAnnotate[ctx.canvas.id][i][7]/jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV6);v6=roundToWithThousands(config,v6,config.roundPct);v7=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][1],config.fmtV7);v8=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][2],config.fmtV8);v9=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][3],config.fmtV9);v10=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][4],config.fmtV10);v11=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][10],config.fmtV11);v12=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][11],config.fmtV12);graphPosX=canvas_pos.x;graphPosY=canvas_pos.y;dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY});annotateDIV.innerHTML=dispString;show=true;x=bw.ns4||bw.ns5?event.pageX:event.x;y=bw.ns4||bw.ns5?event.pageY:event.y;if(bw.ie4||bw.ie5){y=y+eval(scrolled)}oCursor.moveIt(x+fromLeft,y+fromTop)}}else{if(jsGraphAnnotate[ctx.canvas.id][i][0]=="POINT"){distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])*(canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])+(canvas_pos.y-jsGraphAnnotate[ctx.canvas.id][i][2])*(canvas_pos.y-jsGraphAnnotate[ctx.canvas.id][i][2]));if(distance<10){v1=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][3],config.fmtV1);v2=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][4],config.fmtV2);v3=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][5],config.fmtV3);v4=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][6],config.fmtV4);v5=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][7],config.fmtV5);v6=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][8],config.fmtV6);v7=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV7);v8=fmtChartJS(config,100*jsGraphAnnotate[ctx.canvas.id][i][5]/jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV8);v8=roundToWithThousands(config,v8,config.roundPct);v9=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][1],config.fmtV9);v10=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][2],config.fmtV10);v11=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][10],config.fmtV11);v12=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][11],config.fmtV12);graphPosX=canvas_pos.x;graphPosY=canvas_pos.y;dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY});annotateDIV.innerHTML=dispString;show=true;x=bw.ns4||bw.ns5?event.pageX:event.x;y=bw.ns4||bw.ns5?event.pageY:event.y;if(bw.ie4||bw.ie5){y=y+eval(scrolled)}oCursor.moveIt(x+fromLeft,y+fromTop)}}}}annotateDIV.style.display=show?"":"none"}}window.Chart=function(d){var t=this;var a={linear:function(M){return M},easeInQuad:function(M){return M*M},easeOutQuad:function(M){return -1*M*(M-2)},easeInOutQuad:function(M){if((M/=1/2)<1){return 1/2*M*M}return -1/2*((--M)*(M-2)-1)},easeInCubic:function(M){return M*M*M},easeOutCubic:function(M){return 1*((M=M/1-1)*M*M+1)},easeInOutCubic:function(M){if((M/=1/2)<1){return 1/2*M*M*M}return 1/2*((M-=2)*M*M+2)},easeInQuart:function(M){return M*M*M*M},easeOutQuart:function(M){return -1*((M=M/1-1)*M*M*M-1)},easeInOutQuart:function(M){if((M/=1/2)<1){return 1/2*M*M*M*M}return -1/2*((M-=2)*M*M*M-2)},easeInQuint:function(M){return 1*(M/=1)*M*M*M*M},easeOutQuint:function(M){return 1*((M=M/1-1)*M*M*M*M+1)},easeInOutQuint:function(M){if((M/=1/2)<1){return 1/2*M*M*M*M*M}return 1/2*((M-=2)*M*M*M*M+2)},easeInSine:function(M){return -1*Math.cos(M/1*(Math.PI/2))+1},easeOutSine:function(M){return 1*Math.sin(M/1*(Math.PI/2))},easeInOutSine:function(M){return -1/2*(Math.cos(Math.PI*M/1)-1)},easeInExpo:function(M){return(M==0)?1:1*Math.pow(2,10*(M/1-1))},easeOutExpo:function(M){return(M==1)?1:1*(-Math.pow(2,-10*M/1)+1)},easeInOutExpo:function(M){if(M==0){return 0}if(M==1){return 1}if((M/=1/2)<1){return 1/2*Math.pow(2,10*(M-1))}return 1/2*(-Math.pow(2,-10*--M)+2)},easeInCirc:function(M){if(M>=1){return M}return -1*(Math.sqrt(1-(M/=1)*M)-1)},easeOutCirc:function(M){return 1*Math.sqrt(1-(M=M/1-1)*M)},easeInOutCirc:function(M){if((M/=1/2)<1){return -1/2*(Math.sqrt(1-M*M)-1)}return 1/2*(Math.sqrt(1-(M-=2)*M)+1)},easeInElastic:function(N){var O=1.70158;var P=0;var M=1;if(N==0){return 0}if((N/=1)==1){return 1}if(!P){P=1*0.3}if(M<Math.abs(1)){M=1;var O=P/4}else{var O=P/(2*Math.PI)*Math.asin(1/M)}return -(M*Math.pow(2,10*(N-=1))*Math.sin((N*1-O)*(2*Math.PI)/P))},easeOutElastic:function(N){var O=1.70158;var P=0;var M=1;if(N==0){return 0}if((N/=1)==1){return 1}if(!P){P=1*0.3}if(M<Math.abs(1)){M=1;var O=P/4}else{var O=P/(2*Math.PI)*Math.asin(1/M)}return M*Math.pow(2,-10*N)*Math.sin((N*1-O)*(2*Math.PI)/P)+1},easeInOutElastic:function(N){var O=1.70158;var P=0;var M=1;if(N==0){return 0}if((N/=1/2)==2){return 1}if(!P){P=1*(0.3*1.5)}if(M<Math.abs(1)){M=1;var O=P/4}else{var O=P/(2*Math.PI)*Math.asin(1/M)}if(N<1){return -0.5*(M*Math.pow(2,10*(N-=1))*Math.sin((N*1-O)*(2*Math.PI)/P))}return M*Math.pow(2,-10*(N-=1))*Math.sin((N*1-O)*(2*Math.PI)/P)*0.5+1},easeInBack:function(M){var N=1.70158;return 1*(M/=1)*M*((N+1)*M-N)},easeOutBack:function(M){var N=1.70158;return 1*((M=M/1-1)*M*((N+1)*M+N)+1)},easeInOutBack:function(M){var N=1.70158;if((M/=1/2)<1){return 1/2*(M*M*(((N*=(1.525))+1)*M-N))}return 1/2*((M-=2)*M*(((N*=(1.525))+1)*M+N)+2)},easeInBounce:function(M){return 1-a.easeOutBounce(1-M)},easeOutBounce:function(M){if((M/=1)<(1/2.75)){return 1*(7.5625*M*M)}else{if(M<(2/2.75)){return 1*(7.5625*(M-=(1.5/2.75))*M+0.75)}else{if(M<(2.5/2.75)){return 1*(7.5625*(M-=(2.25/2.75))*M+0.9375)}else{return 1*(7.5625*(M-=(2.625/2.75))*M+0.984375)}}}},easeInOutBounce:function(M){if(M<1/2){return a.easeInBounce(M*2)*0.5}return a.easeOutBounce(M*2-1)*0.5+1*0.5}};var w=d.canvas.width;var u=d.canvas.height;if(window.devicePixelRatio){d.canvas.style.width=w+"px";d.canvas.style.height=u+"px";d.canvas.height=u*window.devicePixelRatio;d.canvas.width=w*window.devicePixelRatio;d.scale(window.devicePixelRatio,window.devicePixelRatio)}this.PolarArea=function(O,N){t.PolarArea.defaults={inGraphDataShow:false,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,scaleOverlay:true,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:true,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%='$'+value+'K'%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:true,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:true,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:true,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:true,animateScale:false,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90};t.PolarArea.defaults=G(t.defaults.commonOptions,t.PolarArea.defaults);t.PolarArea.defaults=G(t.PolarArea.defaults,charJSPersonnalDefaultOptions);t.PolarArea.defaults=G(t.PolarArea.defaults,charJSPersonnalDefaultOptionsPolarArea);var M=(N)?G(t.PolarArea.defaults,N):t.PolarArea.defaults;return new f(O,M,d)};this.Radar=function(O,N){t.Radar.defaults={inGraphDataShow:false,inGraphDataPaddingRadius:5,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,scaleOverlay:false,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:true,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:false,scaleLabel:"<%='$'+value+'K'%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:true,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:true,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:true,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:true,datasetStrokeWidth:2,datasetFill:true,animation:true,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",startAngle:90,graphMaximized:false};t.Radar.defaults=G(t.defaults.commonOptions,t.Radar.defaults);t.Radar.defaults=G(t.Radar.defaults,charJSPersonnalDefaultOptions);t.Radar.defaults=G(t.Radar.defaults,charJSPersonnalDefaultOptionsRadar);var M=(N)?G(t.Radar.defaults,N):t.Radar.defaults;return new J(O,M,d)};this.Pie=function(O,N){t.Pie.defaults={inGraphDataShow:false,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,graphMaximized:true,segmentShowStroke:true,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:true,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:true,animateScale:false,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1};t.Pie.defaults=G(t.defaults.commonOptions,t.Pie.defaults);t.Pie.defaults=G(t.Pie.defaults,charJSPersonnalDefaultOptions);t.Pie.defaults=G(t.Pie.defaults,charJSPersonnalDefaultOptionsPie);var M=(N)?G(t.Pie.defaults,N):t.Pie.defaults;return new F(O,M,d)};this.Doughnut=function(O,N){t.Doughnut.defaults={inGraphDataShow:false,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,segmentShowStroke:true,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:true,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:true,animateScale:false,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1};t.Doughnut.defaults=G(t.defaults.commonOptions,t.Doughnut.defaults);t.Doughnut.defaults=G(t.Doughnut.defaults,charJSPersonnalDefaultOptions);t.Doughnut.defaults=G(t.Doughnut.defaults,charJSPersonnalDefaultOptionsDoughnut);var M=(N)?G(t.Doughnut.defaults,N):t.Doughnut.defaults;return new I(O,M,d)};this.Line=function(O,N){t.Line.defaults={inGraphDataShow:false,inGraphDataPaddingX:3,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",scaleOverlay:false,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%='$'+value+'K'%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:true,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:true,rotateLabels:"smart",logarithmic:false,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,bezierCurve:true,pointDot:true,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:true,datasetStrokeWidth:2,datasetFill:true,animation:true,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>"};t.Line.defaults=G(t.defaults.commonOptions,t.Line.defaults);t.Line.defaults=G(t.defaults.xyAxisCommonOptions,t.Line.defaults);t.Line.defaults=G(t.Line.defaults,charJSPersonnalDefaultOptions);t.Line.defaults=G(t.Line.defaults,charJSPersonnalDefaultOptionsLine);var M=(N)?G(t.Line.defaults,N):t.Line.defaults;return new z(O,M,d)};this.StackedBar=function(O,N){t.StackedBar.defaults={inGraphDataShow:false,inGraphDataPaddingX:0,inGraphDataPaddingY:-3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:false,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%='$'+value+'K'%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:true,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:true,rotateLabels:"smart",scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:true,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};t.StackedBar.defaults=G(t.defaults.commonOptions,t.StackedBar.defaults);t.StackedBar.defaults=G(t.defaults.xyAxisCommonOptions,t.StackedBar.defaults);t.StackedBar.defaults=G(t.StackedBar.defaults,charJSPersonnalDefaultOptions);t.StackedBar.defaults=G(t.StackedBar.defaults,charJSPersonnalDefaultOptionsStackedBar);var M=(N)?G(t.StackedBar.defaults,N):t.StackedBar.defaults;return new C(O,M,d)};this.HorizontalStackedBar=function(O,N){t.HorizontalStackedBar.defaults={inGraphDataShow:false,inGraphDataPaddingX:-3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"right",inGraphDataVAlign:"center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:false,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%='$'+value+'K'%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:true,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:true,rotateLabels:"smart",barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:true,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};t.HorizontalStackedBar.defaults=G(t.defaults.commonOptions,t.HorizontalStackedBar.defaults);t.HorizontalStackedBar.defaults=G(t.defaults.xyAxisCommonOptions,t.HorizontalStackedBar.defaults);t.HorizontalStackedBar.defaults=G(t.HorizontalStackedBar.defaults,charJSPersonnalDefaultOptions);t.HorizontalStackedBar.defaults=G(t.HorizontalStackedBar.defaults,charJSPersonnalDefaultOptionsHorizontalStackedBar);var M=(N)?G(t.HorizontalStackedBar.defaults,N):t.HorizontalStackedBar.defaults;return new A(O,M,d)};this.Bar=function(O,N){t.Bar.defaults={inGraphDataShow:false,inGraphDataPaddingX:0,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:false,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%='$'+value+'K'%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:true,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:true,rotateLabels:"smart",logarithmic:false,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:true,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};t.Bar.defaults=G(t.defaults.commonOptions,t.Bar.defaults);t.Bar.defaults=G(t.defaults.xyAxisCommonOptions,t.Bar.defaults);t.Bar.defaults=G(t.Bar.defaults,charJSPersonnalDefaultOptions);t.Bar.defaults=G(t.Bar.defaults,charJSPersonnalDefaultOptionsBar);var M=(N)?G(t.Bar.defaults,N):t.Bar.defaults;return new c(O,M,d)};this.HorizontalBar=function(O,N){t.HorizontalBar.defaults={inGraphDataShow:false,inGraphDataPaddingX:3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:false,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%='$'+value+'K'%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:true,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:true,rotateLabels:"smart",barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:true,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};t.HorizontalBar.defaults=G(t.defaults.commonOptions,t.HorizontalBar.defaults);t.HorizontalBar.defaults=G(t.defaults.xyAxisCommonOptions,t.HorizontalBar.defaults);t.HorizontalBar.defaults=G(t.HorizontalBar.defaults,charJSPersonnalDefaultOptions);t.HorizontalBar.defaults=G(t.HorizontalBar.defaults,charJSPersonnalDefaultOptionsHorizontalBar);var M=(N)?G(t.HorizontalBar.defaults,N):t.HorizontalBar.defaults;return new o(O,M,d)};t.defaults={};t.defaults.commonOptions={clearRect:true,dynamicDisplay:false,graphSpaceBefore:5,graphSpaceAfter:5,canvasBorders:false,canvasBackgroundColor:"none",canvasBordersWidth:3,canvasBordersColor:"black",graphTitle:"",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",graphTitleSpaceBefore:5,graphTitleSpaceAfter:5,graphSubTitle:"",graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5,footNote:"",footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",footNoteSpaceBefore:5,footNoteSpaceAfter:5,legend:false,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBorders:true,legendBordersWidth:1,legendBordersColors:"#666",legendBordersSpaceBefore:5,legendBordersSpaceAfter:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendSpaceBeforeText:5,legendSpaceAfterText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceBetweenTextVertical:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenBoxAndText:5,annotateDisplay:false,savePng:false,savePngOuput:"NewWindow",savePngFunction:"mousedown right",savePngBackgroundColor:"WHITE",annotateFunction:"mousemove",annotateFontFamily:"'Arial'",annotateBorder:"none",annotateBorderRadius:"2px",annotateBackgroundColor:"rgba(0,0,0,0.8)",annotateFontSize:4,annotateFontColor:"white",annotateFontStyle:"normal",annotatePadding:"3px",annotateClassName:"",crossText:[""],crossTextIter:["all"],crossTextOverlay:[true],crossTextFontFamily:["'Arial'"],crossTextFontSize:[12],crossTextFontStyle:["normal"],crossTextFontColor:["rgba(220,220,220,1)"],crossTextRelativePosX:[2],crossTextRelativePosY:[2],crossTextBaseline:["middle"],crossTextAlign:["center"],crossTextPosX:[0],crossTextPosY:[0],crossTextAngle:[0],crossTextFunction:null,spaceTop:0,spaceBottom:0,spaceRight:0,spaceLeft:0,decimalSeparator:".",thousandSeparator:"",roundNumber:"none",roundPct:-1,fmtV1:"none",fmtV2:"none",fmtV3:"none",fmtV4:"none",fmtV5:"none",fmtV6:"none",fmtV7:"none",fmtV8:"none",fmtV9:"none",fmtV10:"none",fmtV11:"none",fmtV12:"none",fmtV13:"none",fmtXLabel:"none",fmtYLabel:"none",fmtLegend:"none"};t.defaults.xyAxisCommonOptions={yAxisLeft:true,yAxisRight:false,xAxisBottom:true,xAxisTop:false,xAxisSpaceBetweenLabels:5,yAxisLabel:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",yAxisLabelSpaceRight:5,yAxisLabelSpaceLeft:5,yAxisSpaceRight:5,yAxisSpaceLeft:5,xAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",xAxisLabelSpaceBefore:5,xAxisLabelSpaceAfter:5,xAxisSpaceBefore:5,xAxisSpaceAfter:5,yAxisUnit:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",yAxisUnitSpaceBefore:5,yAxisUnitSpaceAfter:5};var v=function(M){M.clearRect(0,0,w,u)};var f=function(ad,ac,Y){var R,S,aa,O,Q,ab,U,M,X,W;if(!dynamicFunction(ad,ac,Y,"PolarArea")){return}var Z=ac.startAngle*(Math.PI/180)+2*Math.PI;while(ac.startAngle<0){ac.startAngle+=360}while(ac.startAngle>360){ac.startAngle-=360}while(Z<0){Z+=2*Math.PI}while(Z>2*Math.PI){Z-=2*Math.PI}ac.logarithmic=false;var N=0;jsGraphAnnotate[Y.canvas.id]=new Array();e(Y,ad,ac,"PolarArea");j(Y,ac);ab=V();U=(ac.scaleShowLabels)?ac.scaleLabel:"";if(!ac.scaleOverride){aa=l(ac,ab.maxSteps,ab.minSteps,ab.maxValue,ab.minValue,U);M=D(ad,ac,Y,u,w,aa.labels,true,false,false,false,true)}else{aa={steps:ac.scaleSteps,stepValue:ac.scaleStepWidth,graphMin:ac.scaleStartValue,graphMax:ac.scaleStartValue+ac.scaleSteps*ac.scaleStepWidth,labels:[]};s(ac,U,aa.labels,aa.steps,ac.scaleStartValue,aa.graphMax,ac.scaleStepWidth);M=D(ad,ac,Y,u,w,aa.labels,true,false,false,false,true)}X=M.leftNotUsableSize+(M.availableWidth/2);W=M.topNotUsableSize+(M.availableHeight/2);S=Math.floor(((L([M.availableHeight,M.availableWidth])/2)-5)/aa.steps);h(ac,P,T,Y,M.clrx,M.clry,M.clrwidth,M.clrheight,X,W,X-((L([M.availableHeight,M.availableWidth])/2)-5),W+((L([M.availableHeight,M.availableWidth])/2)-5),ad);function T(aj){var ag=-ac.startAngle*(Math.PI/180)+2*Math.PI,ai=0,af=0,ak=1,ah=1;af=0;for(var ae=0;ae<ad.length;ae++){if(!(typeof(ad[ae].value)=="undefined")){af++}}af=(Math.PI*2)/af;while(ag<0){ag+=2*Math.PI}while(ag>2*Math.PI){ag-=2*Math.PI}if(ac.animation){if(ac.animateScale){ak=aj}if(ac.animateRotate){ah=aj}}if(aj>=1){totvalue=0;for(var ae=0;ae<ad.length;ae++){if(!(typeof(ad[ae].value)=="undefined")){totvalue+=1*ad[ae].value}}}for(var ae=0;ae<ad.length;ae++){if(!(typeof(ad[ae].value)=="undefined")){Y.beginPath();Y.arc(X,W,ak*p(ac,1*ad[ae].value,aa,S),ag,ag+ah*af,false);Y.lineTo(X,W);Y.closePath();Y.fillStyle=ad[ae].color;Y.fill();ag+=af;if(ac.segmentShowStroke){Y.strokeStyle=ac.segmentStrokeColor;Y.lineWidth=ac.segmentStrokeWidth;Y.stroke()}}}if(aj>=1){ag=-ac.startAngle*(Math.PI/180)+2*Math.PI;for(var ae=0;ae<ad.length;ae++){if(!(typeof(ad[ae].value)=="undefined")){ai+=1*ad[ae].value;ag+=af;if(typeof(ad[ae].title)=="string"){lgtxt=ad[ae].title.trim()}else{lgtxt=""}jsGraphAnnotate[Y.canvas.id][N++]=["ARC",X,W,0,p(ac,1*ad[ae].value,aa,S),ag-af,ag,lgtxt,1*ad[ae].value,ai,totvalue,af,ae];if(ac.inGraphDataShow){if(ac.inGraphDataAnglePosition==1){posAngle=Z+ac.inGraphDataPaddingAngle*(Math.PI/180)}else{if(ac.inGraphDataAnglePosition==2){posAngle=Z-af/2+ac.inGraphDataPaddingAngle*(Math.PI/180)}else{if(ac.inGraphDataAnglePosition==3){posAngle=Z-af+ac.inGraphDataPaddingAngle*(Math.PI/180)}}}if(ac.inGraphDataRadiusPosition==1){labelRadius=0+ac.inGraphDataPaddingRadius}else{if(ac.inGraphDataRadiusPosition==2){labelRadius=p(ac,1*ad[ae].value,aa,S)/2+ac.inGraphDataPaddingRadius}else{if(ac.inGraphDataRadiusPosition==3){labelRadius=p(ac,1*ad[ae].value,aa,S)+ac.inGraphDataPaddingRadius}else{if(ac.inGraphDataRadiusPosition==4){labelRadius=S*aa.steps+ac.inGraphDataPaddingRadius}}}}Y.save();if(ac.inGraphDataAlign=="off-center"){if(ac.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2){Y.textAlign="left"}else{Y.textAlign="right"}}else{if(ac.inGraphDataAlign=="to-center"){if(ac.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2){Y.textAlign="right"}else{Y.textAlign="left"}}else{Y.textAlign=ac.inGraphDataAlign}}if(ac.inGraphDataVAlign=="off-center"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI){Y.textBaseline="top"}else{Y.textBaseline="bottom"}}else{if(ac.inGraphDataVAlign=="to-center"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI){Y.textBaseline="bottom"}else{Y.textBaseline="top"}}else{Y.textBaseline=ac.inGraphDataVAlign}}Y.font=ac.inGraphDataFontStyle+" "+ac.inGraphDataFontSize+"px "+ac.inGraphDataFontFamily;Y.fillStyle=ac.inGraphDataFontColor;var al=tmplbis(ac.inGraphDataTmpl,{config:ac,v1:fmtChartJS(ac,lgtxt,ac.fmtV1),v2:fmtChartJS(ac,1*ad[ae].value,ac.fmtV2),v3:fmtChartJS(ac,ai,ac.fmtV3),v4:fmtChartJS(ac,totvalue,ac.fmtV4),v5:fmtChartJS(ac,af,ac.fmtV5),v6:roundToWithThousands(ac,fmtChartJS(ac,100*ad[ae].value/totvalue,ac.fmtV6),ac.roundPct),v7:fmtChartJS(ac,X,ac.fmtV7),v8:fmtChartJS(ac,W,ac.fmtV8),v9:fmtChartJS(ac,0,ac.fmtV9),v10:fmtChartJS(ac,p(ac,1*ad[ae].value,aa,S),ac.fmtV10),v11:fmtChartJS(ac,ag-af,ac.fmtV11),v12:fmtChartJS(ac,af,ac.fmtV12),v13:fmtChartJS(ac,ae,ac.fmtV13)});Y.translate(X+labelRadius*Math.cos(posAngle),W-labelRadius*Math.sin(posAngle));if(ac.inGraphDataRotate=="inRadiusAxis"){Y.rotate(2*Math.PI-posAngle)}else{if(ac.inGraphDataRotate=="inRadiusAxisRotateLabels"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2){Y.rotate(3*Math.PI-posAngle)}else{Y.rotate(2*Math.PI-posAngle)}}else{Y.rotate(ac.inGraphDataRotate*(Math.PI/180))}}Y.fillText(al,0,0);Y.restore();Z-=af}}}}}function P(){for(var af=0;af<aa.steps;af++){if(ac.scaleShowLine){Y.beginPath();Y.arc(X,W,S*(af+1),0,(Math.PI*2),true);Y.strokeStyle=ac.scaleLineColor;Y.lineWidth=ac.scaleLineWidth;Y.stroke()}if(ac.scaleShowLabels){Y.textAlign="center";Y.font=ac.scaleFontStyle+" "+ac.scaleFontSize+"px "+ac.scaleFontFamily;var ae=fmtChartJS(ac,aa.labels[af+1],ac.fmtYLabel);if(ac.scaleShowLabelBackdrop){var ag=Y.measureText(ae).width;Y.fillStyle=ac.scaleBackdropColor;Y.beginPath();Y.rect(Math.round(X-ag/2-ac.scaleBackdropPaddingX),Math.round(W-(S*(af+1))-ac.scaleFontSize*0.5-ac.scaleBackdropPaddingY),Math.round(ag+(ac.scaleBackdropPaddingX*2)),Math.round(ac.scaleFontSize+(ac.scaleBackdropPaddingY*2)));Y.fill()}Y.textBaseline="middle";Y.fillStyle=ac.scaleFontColor;Y.fillText(ae,X,W-(S*(af+1)))}}}function V(){var ai=Number.MIN_VALUE;var ae=Number.MAX_VALUE;for(var ah=0;ah<ad.length;ah++){if(1*ad[ah].value>ai){ai=1*ad[ah].value}if(1*ad[ah].value<ae){ae=1*ad[ah].value}}if(Math.abs(ai-ae)<1e-8){ai=b([ai*2,1]);ae=0}if(!isNaN(ac.graphMin)){ae=ac.graphMin}if(!isNaN(ac.graphMax)){ai=ac.graphMax}var ag=Math.floor((Q/(O*0.66)));var af=Math.floor((Q/O*0.5));return{maxValue:ai,minValue:ae,maxSteps:ag,minSteps:af}}};var J=function(ad,ac,Y){var S,T,aa,P,R,ab,U,M,X,W;if(!dynamicFunction(ad,ac,Y,"Radar")){return}while(ac.startAngle<0){ac.startAngle+=360}while(ac.startAngle>360){ac.startAngle-=360}ac.logarithmic=false;var O=0;jsGraphAnnotate[Y.canvas.id]=new Array();e(Y,ad,ac,"Radar");if(!ad.labels){ad.labels=[]}j(Y,ac);ab=V();U=(ac.scaleShowLabels)?ac.scaleLabel:"";if(!ac.scaleOverride){aa=l(ac,ab.maxSteps,ab.minSteps,ab.maxValue,ab.minValue,U);M=D(ad,ac,Y,u,w,aa.labels,true,false,false,true,ac.datasetFill)}else{aa={steps:ac.scaleSteps,stepValue:ac.scaleStepWidth,graphMin:ac.scaleStartValue,graphMax:ac.scaleStartValue+ac.scaleSteps*ac.scaleStepWidth,labels:[]};s(ac,U,aa.labels,aa.steps,ac.scaleStartValue,aa.graphMax,ac.scaleStepWidth);M=D(ad,ac,Y,u,w,aa.labels,true,false,false,true,ac.datasetFill)}Z();W=M.topNotUsableSize+(M.availableHeight/2);T=S/(aa.steps);h(ac,Q,N,Y,M.clrx,M.clry,M.clrwidth,M.clrheight,X,W,X-S,W+S,ad);function N(ae){var ak=new Array();var al=new Array();for(var aj=0;aj<ad.datasets.length;aj++){for(var ai=0;ai<ad.datasets[aj].data.length;ai++){ak[ai]=0;al[ai]=-999999999}}for(var aj=0;aj<ad.datasets.length;aj++){for(var ai=0;ai<ad.datasets[aj].data.length;ai++){if(!(typeof(ad.datasets[aj].data[ai])=="undefined")){ak[ai]+=1*ad.datasets[aj].data[ai];al[ai]=b([al[ai],1*ad.datasets[aj].data[ai]])}}}var an=(2*Math.PI)/ad.datasets[0].data.length;Y.save();for(var aj=0;aj<ad.datasets.length;aj++){if(ae>=1){if(typeof(ad.datasets[aj].title)=="string"){lgtxt=ad.datasets[aj].title.trim()}else{lgtxt=""}}var af=-1;for(var ai=0;ai<ad.datasets[aj].data.length;ai++){if(!(typeof(ad.datasets[aj].data[ai])=="undefined")){if(af==-1){Y.beginPath();Y.moveTo(X+ae*(Math.cos(ac.startAngle*Math.PI/180-ai*an)*p(ac,ad.datasets[aj].data[ai],aa,T)),W-ae*(Math.sin(ac.startAngle*Math.PI/180-ai*an)*p(ac,ad.datasets[aj].data[ai],aa,T)));af=ai}else{Y.lineTo(X+ae*(Math.cos(ac.startAngle*Math.PI/180-ai*an)*p(ac,ad.datasets[aj].data[ai],aa,T)),W-ae*(Math.sin(ac.startAngle*Math.PI/180-ai*an)*p(ac,ad.datasets[aj].data[ai],aa,T)))}if(ae>=1){if(aj==0){divprev=0}else{divprev=ad.datasets[aj].data[ai]-ad.datasets[aj-1].data[ai]}if(aj==ad.datasets.length-1){divnext=0}else{divnext=ad.datasets[aj+1].data[ai]-ad.datasets[aj].data[ai]}if(typeof(ad.labels[ai])=="string"){lgtxt2=ad.labels[ai].trim()}else{lgtxt2=""}jsGraphAnnotate[Y.canvas.id][O++]=["POINT",X+Math.cos(ac.startAngle*Math.PI/180-ai*an)*p(ac,ad.datasets[aj].data[ai],aa,T),W-Math.sin(ac.startAngle*Math.PI/180-ai*an)*p(ac,ad.datasets[aj].data[ai],aa,T),lgtxt,lgtxt2,1*ad.datasets[aj].data[ai],divprev,divnext,al[ai],ak[ai],aj,ai]}}}Y.closePath();Y.fillStyle=ad.datasets[aj].fillColor;Y.strokeStyle=ad.datasets[aj].strokeColor;Y.lineWidth=ac.datasetStrokeWidth;Y.fill();Y.stroke();if(ac.pointDot){Y.beginPath();Y.fillStyle=ad.datasets[aj].pointColor;Y.strokeStyle=ad.datasets[aj].pointStrokeColor;Y.lineWidth=ac.pointDotStrokeWidth;for(var ag=0;ag<ad.datasets[aj].data.length;ag++){if(!(typeof(ad.datasets[aj].data[ag])=="undefined")){Y.beginPath();Y.arc(X+ae*(Math.cos(ac.startAngle*Math.PI/180-ag*an)*p(ac,ad.datasets[aj].data[ag],aa,T)),W-ae*(Math.sin(ac.startAngle*Math.PI/180-ag*an)*p(ac,ad.datasets[aj].data[ag],aa,T)),ac.pointDotRadius,2*Math.PI,false);Y.fill();Y.stroke()}}}}Y.restore();if(ae>=1&&ac.inGraphDataShow){for(var aj=0;aj<ad.datasets.length;aj++){if(typeof(ad.datasets[aj].title)=="string"){lgtxt=ad.datasets[aj].title.trim()}else{lgtxt=""}for(var ai=0;ai<ad.datasets[aj].data.length;ai++){if(!(typeof(ad.datasets[aj].data[ai])=="undefined")){if(aj==0){divprev=0}else{divprev=ad.datasets[aj].data[ai]-ad.datasets[aj-1].data[ai]}if(aj==ad.datasets.length-1){divnext=0}else{divnext=ad.datasets[aj+1].data[ai]-ad.datasets[aj].data[ai]}if(typeof(ad.labels[ai])=="string"){lgtxt2=ad.labels[ai].trim()}else{lgtxt2=""}Y.save();Y.textAlign=ac.inGraphDataAlign;Y.textBaseline=ac.inGraphDataVAlign;if(ac.inGraphDataAlign=="off-center"){if(ac.inGraphDataRotate=="inRadiusAxis"||(ai*an+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(ai*an+2*Math.PI)%(2*Math.PI)<Math.PI/2){Y.textAlign="left"}else{Y.textAlign="right"}}else{if(ac.inGraphDataAlign=="to-center"){if(ac.inGraphDataRotate=="inRadiusAxis"||(ai*an+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(ai*an+2*Math.PI)%(2*Math.PI)<Math.PI/2){Y.textAlign="right"}else{Y.textAlign="left"}}else{Y.textAlign=ac.inGraphDataAlign}}if(ac.inGraphDataVAlign=="off-center"){if((ai*an+2*Math.PI)%(2*Math.PI)>Math.PI){Y.textBaseline="bottom"}else{Y.textBaseline="top"}}else{if(ac.inGraphDataVAlign=="to-center"){if((ai*an+2*Math.PI)%(2*Math.PI)>Math.PI){Y.textBaseline="top"}else{Y.textBaseline="bottom"}}else{Y.textBaseline=ac.inGraphDataVAlign}}Y.font=ac.inGraphDataFontStyle+" "+ac.inGraphDataFontSize+"px "+ac.inGraphDataFontFamily;Y.fillStyle=ac.inGraphDataFontColor;var am;if(ac.inGraphDataRadiusPosition==1){am=0+ac.inGraphDataPaddingRadius}else{if(ac.inGraphDataRadiusPosition==2){am=(p(ac,ad.datasets[aj].data[ai],aa,T))/2+ac.inGraphDataPaddingRadius}else{if(ac.inGraphDataRadiusPosition==3){am=(p(ac,ad.datasets[aj].data[ai],aa,T))+ac.inGraphDataPaddingRadius}}}Y.translate(X+Math.cos(ac.startAngle*Math.PI/180-ai*an)*am,W-Math.sin(ac.startAngle*Math.PI/180-ai*an)*am);if(ac.inGraphDataRotate=="inRadiusAxis"){Y.rotate(ai*an)}else{if(ac.inGraphDataRotate=="inRadiusAxisRotateLabels"){if((ai*an+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(ai*an+2*Math.PI)%(2*Math.PI)<3*Math.PI/2){Y.rotate(3*Math.PI+ai*an)}else{Y.rotate(2*Math.PI+ai*an)}}else{Y.rotate(ac.inGraphDataRotate*(Math.PI/180))}}var ah=tmplbis(ac.inGraphDataTmpl,{config:ac,v1:fmtChartJS(ac,lgtxt,ac.fmtV1),v2:fmtChartJS(ac,lgtxt2,ac.fmtV2),v3:fmtChartJS(ac,1*ad.datasets[aj].data[ai],ac.fmtV3),v4:fmtChartJS(ac,divprev,ac.fmtV4),v5:fmtChartJS(ac,divnext,ac.fmtV5),v6:fmtChartJS(ac,al[ai],ac.fmtV6),v7:fmtChartJS(ac,ak[ai],ac.fmtV7),v8:roundToWithThousands(ac,fmtChartJS(ac,100*ad.datasets[aj].data[ai]/ak[ai],ac.fmtV8),ac.roundPct),v9:fmtChartJS(ac,X+Math.cos(ac.startAngle*Math.PI/180-ai*an)*p(ac,ad.datasets[aj].data[ai],aa,T),ac.fmtV9),v10:fmtChartJS(ac,W-Math.sin(ac.startAngle*Math.PI/180-ai*an)*p(ac,ad.datasets[aj].data[ai],aa,T),ac.fmtV10),v11:fmtChartJS(ac,aj,ac.fmtV11),v12:fmtChartJS(ac,ai,ac.fmtV12)});Y.fillText(ah,0,0);Y.restore()}}}}}function Q(){var am=(2*Math.PI)/ad.datasets[0].data.length;Y.save();Y.translate(X,W);Y.rotate((90-ac.startAngle)*Math.PI/180);if(ac.angleShowLineOut){Y.strokeStyle=ac.angleLineColor;Y.lineWidth=ac.angleLineWidth;for(var ai=0;ai<ad.datasets[0].data.length;ai++){Y.rotate(am);Y.beginPath();Y.moveTo(0,0);Y.lineTo(0,-S);Y.stroke()}}for(var ag=0;ag<aa.steps;ag++){Y.beginPath();if(ac.scaleShowLine){Y.strokeStyle=ac.scaleLineColor;Y.lineWidth=ac.scaleLineWidth;Y.moveTo(0,-T*(ag+1));for(var af=0;af<ad.datasets[0].data.length;af++){Y.rotate(am);Y.lineTo(0,-T*(ag+1))}Y.closePath();Y.stroke()}}Y.rotate(-(90-ac.startAngle)*Math.PI/180);if(ac.scaleShowLabels){for(var ag=0;ag<aa.steps;ag++){Y.textAlign="center";Y.font=ac.scaleFontStyle+" "+ac.scaleFontSize+"px "+ac.scaleFontFamily;Y.textBaseline="middle";if(ac.scaleShowLabelBackdrop){var ak=Y.measureText(fmtChartJS(ac,aa.labels[ag+1],ac.fmtYLabel)).width;Y.fillStyle=ac.scaleBackdropColor;Y.beginPath();Y.rect(Math.round(Math.cos(ac.startAngle*Math.PI/180)*(T*(ag+1))-ak/2-ac.scaleBackdropPaddingX),Math.round((-Math.sin(ac.startAngle*Math.PI/180)*T*(ag+1))-ac.scaleFontSize*0.5-ac.scaleBackdropPaddingY),Math.round(ak+(ac.scaleBackdropPaddingX*2)),Math.round(ac.scaleFontSize+(ac.scaleBackdropPaddingY*2)));Y.fill()}Y.fillStyle=ac.scaleFontColor;Y.fillText(fmtChartJS(ac,aa.labels[ag+1],ac.fmtYLabel),Math.cos(ac.startAngle*Math.PI/180)*(T*(ag+1)),-Math.sin(ac.startAngle*Math.PI/180)*T*(ag+1))}}for(var ae=0;ae<ad.labels.length;ae++){Y.font=ac.pointLabelFontStyle+" "+ac.pointLabelFontSize+"px "+ac.pointLabelFontFamily;Y.fillStyle=ac.pointLabelFontColor;var aj=Math.sin((90-ac.startAngle)*Math.PI/180+am*ae)*(S+ac.pointLabelFontSize);var al=Math.cos((90-ac.startAngle)*Math.PI/180+am*ae)*(S+ac.pointLabelFontSize);var ah=(90-ac.startAngle)*Math.PI/180+am*ae;while(ah<0){ah=ah+2*Math.PI}while(ah>2*Math.PI){ah=ah-2*Math.PI}if(ah==Math.PI||ah==0){Y.textAlign="center"}else{if(ah>Math.PI){Y.textAlign="right"}else{Y.textAlign="left"}}Y.textBaseline="middle";Y.fillText(ad.labels[ae],aj,-al)}Y.restore()}function Z(){var am,an,ai,ae,al,ap,af,aj;var ao=(2*Math.PI)/ad.datasets[0].data.length;var ah=ac.startAngle*Math.PI/180;Y.font=ac.pointLabelFontStyle+" "+ac.pointLabelFontSize+"px "+ac.pointLabelFontFamily;if(!ac.graphMaximized){ae=M.availableWidth/2;ai=M.availableWidth/2;ap=1}else{ae=M.availableWidth/2;ai=M.availableWidth/2;ap=40;for(var ag=0;ag<ad.labels.length;ag++){var ak=Y.measureText(ad.labels[ag]).width+ac.scaleFontSize;an=(M.availableWidth-ak)/(1+Math.abs(Math.cos(ah)));if((ah<Math.PI/2&&ah>-Math.PI/2)||ah>3*Math.PI/2){if(an<ae){ae=an}}else{if(Math.cos(ah)!=0){if(an<ai){ai=an}}}ah-=ao}}af=0;aj=0;for(am=ae,al=0;al<ap;++al,am+=(M.availableWidth-ai-ae)/ap){S=b([am,M.availableWidth-am]);var ah=ac.startAngle*Math.PI/180;an=M.available;for(var ag=0;ag<ad.labels.length;ag++){var ak=Y.measureText(ad.labels[ag]).width+ac.scaleFontSize;if((ah<Math.PI/2&&ah>-Math.PI/2)||ah>3*Math.PI/2){an=((M.availableWidth-am)-ak)/Math.abs(Math.cos(ah))}else{if(Math.cos(ah!=0)){an=(am-ak)/Math.abs(Math.cos(ah))}}if(an<S){S=an}if(Math.sin(ah)*M.availableHeight/2>M.availableHeight/2-ac.scaleFontSize*2){an=Math.sin(ah)*M.availableHeight/2-1.5*ac.scaleFontSize;if(an<S){S=an}}ah-=ao}if(S>af){af=S;X=am}}S=af-ac.scaleFontSize/2;P=k(P,5)}function V(){var aj=Number.MIN_VALUE;var ae=Number.MAX_VALUE;for(var ai=0;ai<ad.datasets.length;ai++){for(var ah=0;ah<ad.datasets[ai].data.length;ah++){if(1*ad.datasets[ai].data[ah]>aj){aj=1*ad.datasets[ai].data[ah]}if(1*ad.datasets[ai].data[ah]<ae){ae=1*ad.datasets[ai].data[ah]}}}if(Math.abs(aj-ae)<1e-8){aj=b([aj*2,1]);ae=0}if(!isNaN(ac.graphMin)){ae=ac.graphMin}if(!isNaN(ac.graphMax)){aj=ac.graphMax}var ag=Math.floor((R/(P*0.66)));var af=Math.floor((R/P*0.5));return{maxValue:aj,minValue:ae,maxSteps:ag,minSteps:af}}};var F=function(Q,N,X){var R=0;var V,T,S,M;if(!dynamicFunction(Q,N,X,"Pie")){return}while(N.startAngle<0){N.startAngle+=360}while(N.startAngle>360){N.startAngle-=360}N.logarithmic=false;var W=0;jsGraphAnnotate[X.canvas.id]=new Array();e(X,Q,N,"Pie");j(X,N);V=D(Q,N,X,u,w,null,true,false,false,false,true);for(var P=0;P<Q.length;P++){if(!(typeof(Q[P].value)=="undefined")){R+=1*Q[P].value}}U();h(N,null,O,X,V.clrx,V.clry,V.clrwidth,V.clrheight,T,S,T-M,S+M,Q);function O(Y){var ae=-N.startAngle*(Math.PI/180)+2*Math.PI,Z=0,ad=1,af=1;var ag=N.startAngle*(Math.PI/180)+2*Math.PI;while(ae<0){ae+=2*Math.PI}while(ae>2*Math.PI){ae-=2*Math.PI}while(ag<0){ag+=2*Math.PI}while(ag>2*Math.PI){ag-=2*Math.PI}if(N.animation){if(N.animateScale){ad=Y}if(N.animateRotate){af=Y}}if(Y>=1){totvalue=0;for(var ac=0;ac<Q.length;ac++){if(!(typeof(Q[ac].value)=="undefined")){totvalue+=1*Q[ac].value}}}for(var ac=0;ac<Q.length;ac++){if(!(typeof(Q[ac].value)=="undefined")){var aa=af*((1*Q[ac].value/R)*(Math.PI*2));if(aa>=Math.PI*2){aa=Math.PI*2-0.001}X.beginPath();X.arc(T,S,ad*M,ae,ae+aa);X.lineTo(T,S);X.closePath();X.fillStyle=Q[ac].color;X.fill();ae+=aa;Z+=1*Q[ac].value;if(N.segmentShowStroke){X.lineWidth=N.segmentStrokeWidth;X.strokeStyle=N.segmentStrokeColor;X.stroke()}if(Y>=1){if(typeof(Q[ac].title)=="string"){lgtxt=Q[ac].title.trim()}else{lgtxt=""}jsGraphAnnotate[X.canvas.id][W++]=["ARC",T,S,0,M,ae-aa,ae,lgtxt,1*Q[ac].value,Z,totvalue,aa,ac];if(N.inGraphDataShow){if(N.inGraphDataAnglePosition==1){posAngle=ag+N.inGraphDataPaddingAngle*(Math.PI/180)}else{if(N.inGraphDataAnglePosition==2){posAngle=ag-aa/2+N.inGraphDataPaddingAngle*(Math.PI/180)}else{if(N.inGraphDataAnglePosition==3){posAngle=ag-aa+N.inGraphDataPaddingAngle*(Math.PI/180)}}}if(N.inGraphDataRadiusPosition==1){labelRadius=0+N.inGraphDataPaddingRadius}else{if(N.inGraphDataRadiusPosition==2){labelRadius=M/2+N.inGraphDataPaddingRadius}else{if(N.inGraphDataRadiusPosition==3){labelRadius=M+N.inGraphDataPaddingRadius}}}ag-=aa;X.save();if(N.inGraphDataAlign=="off-center"){if(N.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2){X.textAlign="left"}else{X.textAlign="right"}}else{if(N.inGraphDataAlign=="to-center"){if(N.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2){X.textAlign="right"}else{X.textAlign="left"}}else{X.textAlign=N.inGraphDataAlign}}if(N.inGraphDataVAlign=="off-center"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI){X.textBaseline="top"}else{X.textBaseline="bottom"}}else{if(N.inGraphDataVAlign=="to-center"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI){X.textBaseline="bottom"}else{X.textBaseline="top"}}else{X.textBaseline=N.inGraphDataVAlign}}X.font=N.inGraphDataFontStyle+" "+N.inGraphDataFontSize+"px "+N.inGraphDataFontFamily;X.fillStyle=N.inGraphDataFontColor;var ab=tmplbis(N.inGraphDataTmpl,{config:N,v1:fmtChartJS(N,lgtxt,N.fmtV1),v2:fmtChartJS(N,1*Q[ac].value,N.fmtV2),v3:fmtChartJS(N,Z,N.fmtV3),v4:fmtChartJS(N,totvalue,N.fmtV4),v5:fmtChartJS(N,aa,N.fmtV5),v6:roundToWithThousands(N,fmtChartJS(N,100*Q[ac].value/totvalue,N.fmtV6),N.roundPct),v7:fmtChartJS(N,T,N.fmtV7),v8:fmtChartJS(N,S,N.fmtV8),v9:fmtChartJS(N,0,N.fmtV9),v10:fmtChartJS(N,M,N.fmtV10),v11:fmtChartJS(N,ae-aa,N.fmtV11),v12:fmtChartJS(N,ae,N.fmtV12),v13:fmtChartJS(N,ac,N.fmtV13)});X.translate(T+labelRadius*Math.cos(posAngle),S-labelRadius*Math.sin(posAngle));if(N.inGraphDataRotate=="inRadiusAxis"){X.rotate(2*Math.PI-posAngle)}else{if(N.inGraphDataRotate=="inRadiusAxisRotateLabels"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2){X.rotate(3*Math.PI-posAngle)}else{X.rotate(2*Math.PI-posAngle)}}else{X.rotate(N.inGraphDataRotate*(Math.PI/180))}}X.fillText(ab,0,0);X.restore()}}}}}function U(){var aa;var ad=-N.startAngle*(Math.PI/180)+2*Math.PI,Y=0;while(ad<0){ad+=2*Math.PI}while(ad>2*Math.PI){ad-=2*Math.PI}T=V.leftNotUsableSize+(V.availableWidth/2);S=V.topNotUsableSize+(V.availableHeight/2);M=L([V.availableHeight/2,V.availableWidth/2])-5;X.font=N.pointLabelFontStyle+" "+N.pointLabelFontSize+"px "+N.pointLabelFontFamily;if(N.inGraphDataShow&&N.inGraphDataRadiusPosition==3&&N.inGraphDataAlign=="off-center"&&N.inGraphDataRotate==0){M=L([V.availableHeight/2,V.availableWidth/2])-N.inGraphDataFontSize-N.inGraphDataPaddingRadius-5;var ah=N.startAngle*(Math.PI/180)+2*Math.PI;while(ah<0){ah+=2*Math.PI}while(ah>2*Math.PI){ah-=2*Math.PI}var ai=0;for(var ac=0;ac<Q.length;ac++){if(!(typeof(Q[ac].value)=="undefined")){ai+=1*Q[ac].value}}X.font=N.inGraphDataFontStyle+" "+N.inGraphDataFontSize+"px "+N.inGraphDataFontFamily;var Y=0;var ae;for(var ac=0;ac<Q.length;ac++){if(!(typeof(Q[ac].value)=="undefined")){Y+=1*Q[ac].value;var Z=(1*Q[ac].value/R)*(Math.PI*2);ad+=Z;if(N.inGraphDataAnglePosition==1){ae=ah+N.inGraphDataPaddingAngle*(Math.PI/180)}else{if(N.inGraphDataAnglePosition==2){ae=ah-Z/2+N.inGraphDataPaddingAngle*(Math.PI/180)}else{if(N.inGraphDataAnglePosition==3){ae=ah-Z+N.inGraphDataPaddingAngle*(Math.PI/180)}}}ah-=Z;if(typeof(Q[ac].title)=="string"){aa=Q[ac].title.trim()}else{aa=""}var ab=tmplbis(N.inGraphDataTmpl,{config:N,v1:fmtChartJS(N,aa,N.fmtV1),v2:fmtChartJS(N,1*Q[ac].value,N.fmtV2),v3:fmtChartJS(N,Y,N.fmtV3),v4:fmtChartJS(N,ai,N.fmtV4),v5:fmtChartJS(N,Z,N.fmtV5),v6:roundToWithThousands(N,fmtChartJS(N,100*Q[ac].value/ai,N.fmtV6),N.roundPct),v7:fmtChartJS(N,T,N.fmtV7),v8:fmtChartJS(N,S,N.fmtV8),v9:fmtChartJS(N,0,N.fmtV9),v10:fmtChartJS(N,M,N.fmtV10),v11:fmtChartJS(N,ad-Z,N.fmtV11),v12:fmtChartJS(N,ad,N.fmtV12),v13:fmtChartJS(N,ac,N.fmtV13)});var ag=X.measureText(ab).width;var af=Math.abs((V.availableWidth/2-ag)/Math.cos(ae))-N.inGraphDataPaddingRadius-5;if(af<M){M=af}}}}M=M*N.radiusScale}};var I=function(P,M,Y){var R=0;var V,T,S;if(!dynamicFunction(P,M,Y,"Doughnut")){return}var W=M.startAngle*(Math.PI/180)+2*Math.PI;while(M.startAngle<0){M.startAngle+=360}while(M.startAngle>360){M.startAngle-=360}while(W<0){W+=2*Math.PI}while(W>2*Math.PI){W-=2*Math.PI}M.logarithmic=false;var X=0;jsGraphAnnotate[Y.canvas.id]=new Array();e(Y,P,M,"Doughnut");j(Y,M);V=D(P,M,Y,u,w,null,true,false,false,false,true);U();var Q=doughnutRadius*(M.percentageInnerCutout/100);for(var O=0;O<P.length;O++){if(!(typeof(P[O].value)=="undefined")){R+=1*P[O].value}}h(M,null,N,Y,V.clrx,V.clry,V.clrwidth,V.clrheight,T,S,T-doughnutRadius,S+doughnutRadius,P);function N(ad){var af=-M.startAngle*(Math.PI/180)+2*Math.PI,ac=0,ae=1,ab=1;while(af<0){af+=2*Math.PI}while(af>2*Math.PI){af-=2*Math.PI}if(M.animation){if(M.animateScale){ae=ad}if(M.animateRotate){ab=ad}}if(ad>=1){totvalue=0;for(var aa=0;aa<P.length;aa++){if(!(typeof(P[aa].value)=="undefined")){totvalue+=1*P[aa].value}}}for(var aa=0;aa<P.length;aa++){if(!(typeof(P[aa].value)=="undefined")){var Z=ab*((1*P[aa].value/R)*(Math.PI*2));if(Z>=Math.PI*2){Z=Math.PI*2-0.001}Y.beginPath();Y.arc(T,S,ae*doughnutRadius,af,af+Z,false);Y.arc(T,S,ae*Q,af+Z,af,true);Y.closePath();Y.fillStyle=P[aa].color;Y.fill();af+=Z;ac+=1*P[aa].value;if(M.segmentShowStroke){Y.lineWidth=M.segmentStrokeWidth;Y.strokeStyle=M.segmentStrokeColor;Y.stroke()}if(ad>=1){if(typeof(P[aa].title)=="string"){lgtxt=P[aa].title.trim()}else{lgtxt=""}jsGraphAnnotate[Y.canvas.id][X++]=["ARC",T,S,Q,doughnutRadius,af-Z,af,lgtxt,1*P[aa].value,ac,totvalue,Z,aa];if(M.inGraphDataShow){if(M.inGraphDataAnglePosition==1){posAngle=W+M.inGraphDataPaddingAngle*(Math.PI/180)}else{if(M.inGraphDataAnglePosition==2){posAngle=W-Z/2+M.inGraphDataPaddingAngle*(Math.PI/180)}else{if(M.inGraphDataAnglePosition==3){posAngle=W-Z+M.inGraphDataPaddingAngle*(Math.PI/180)}}}if(M.inGraphDataRadiusPosition==1){labelRadius=Q+M.inGraphDataPaddingRadius}else{if(M.inGraphDataRadiusPosition==2){labelRadius=Q+(doughnutRadius-Q)/2+M.inGraphDataPaddingRadius}else{if(M.inGraphDataRadiusPosition==3){labelRadius=doughnutRadius+M.inGraphDataPaddingRadius}}}W-=Z;Y.save();if(M.inGraphDataAlign=="off-center"){if(M.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2){Y.textAlign="left"}else{Y.textAlign="right"}}else{if(M.inGraphDataAlign=="to-center"){if(M.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2){Y.textAlign="right"}else{Y.textAlign="left"}}else{Y.textAlign=M.inGraphDataAlign}}if(M.inGraphDataVAlign=="off-center"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI){Y.textBaseline="top"}else{Y.textBaseline="bottom"}}else{if(M.inGraphDataVAlign=="to-center"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI){Y.textBaseline="bottom"}else{Y.textBaseline="top"}}else{Y.textBaseline=M.inGraphDataVAlign}}Y.font=M.inGraphDataFontStyle+" "+M.inGraphDataFontSize+"px "+M.inGraphDataFontFamily;Y.fillStyle=M.inGraphDataFontColor;var ag=tmplbis(M.inGraphDataTmpl,{config:M,v1:fmtChartJS(M,lgtxt,M.fmtV1),v2:fmtChartJS(M,1*P[aa].value,M.fmtV2),v3:fmtChartJS(M,ac,M.fmtV3),v4:fmtChartJS(M,totvalue,M.fmtV4),v5:fmtChartJS(M,Z,M.fmtV5),v6:roundToWithThousands(M,fmtChartJS(M,100*P[aa].value/totvalue,M.fmtV6),M.roundPct),v7:fmtChartJS(M,T,M.fmtV7),v8:fmtChartJS(M,S,M.fmtV8),v9:fmtChartJS(M,Q,M.fmtV9),v10:fmtChartJS(M,doughnutRadius,M.fmtV10),v11:fmtChartJS(M,af-Z,M.fmtV11),v12:fmtChartJS(M,af,M.fmtV12),v13:fmtChartJS(M,aa,M.fmtV13)});Y.translate(T+labelRadius*Math.cos(posAngle),S-labelRadius*Math.sin(posAngle));if(M.inGraphDataRotate=="inRadiusAxis"){Y.rotate(2*Math.PI-posAngle)}else{if(M.inGraphDataRotate=="inRadiusAxisRotateLabels"){if((posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2){Y.rotate(3*Math.PI-posAngle)}else{Y.rotate(2*Math.PI-posAngle)}}else{Y.rotate(M.inGraphDataRotate*(Math.PI/180))}}Y.fillText(ag,0,0);Y.restore()}}}}}function U(){var ab;var ae=-M.startAngle*(Math.PI/180)+2*Math.PI,Z=0;while(ae<0){ae+=2*Math.PI}while(ae>2*Math.PI){ae-=2*Math.PI}T=V.leftNotUsableSize+(V.availableWidth/2);S=V.topNotUsableSize+(V.availableHeight/2);doughnutRadius=L([V.availableHeight/2,V.availableWidth/2])-5;Y.font=M.pointLabelFontStyle+" "+M.pointLabelFontSize+"px "+M.pointLabelFontFamily;if(M.inGraphDataShow&&M.inGraphDataRadiusPosition==3&&M.inGraphDataAlign=="off-center"&&M.inGraphDataRotate==0){doughnutRadius=L([V.availableHeight/2,V.availableWidth/2])-M.inGraphDataFontSize-M.inGraphDataPaddingRadius-5;var ai=M.startAngle*(Math.PI/180)+2*Math.PI;while(ai<0){ai+=2*Math.PI}while(ai>2*Math.PI){ai-=2*Math.PI}var aj=0;for(var ad=0;ad<P.length;ad++){if(!(typeof(P[ad].value)=="undefined")){aj+=1*P[ad].value}}Y.font=M.inGraphDataFontStyle+" "+M.inGraphDataFontSize+"px "+M.inGraphDataFontFamily;var af;var ae=0;for(var ad=0;ad<P.length;ad++){if(!(typeof(P[ad].value)=="undefined")){Z+=1*P[ad].value;var aa=(1*P[ad].value/R)*(Math.PI*2);ae+=aa;if(M.inGraphDataAnglePosition==1){af=ai+M.inGraphDataPaddingAngle*(Math.PI/180)}else{if(M.inGraphDataAnglePosition==2){af=ai-aa/2+M.inGraphDataPaddingAngle*(Math.PI/180)}else{if(M.inGraphDataAnglePosition==3){af=ai-aa+M.inGraphDataPaddingAngle*(Math.PI/180)}}}ai-=aa;if(typeof(P[ad].title)=="string"){ab=P[ad].title.trim()}else{ab=""}var ac=tmplbis(M.inGraphDataTmpl,{config:M,v1:fmtChartJS(M,ab,M.fmtV1),v2:fmtChartJS(M,1*P[ad].value,M.fmtV2),v3:fmtChartJS(M,Z,M.fmtV3),v4:fmtChartJS(M,aj,M.fmtV4),v5:fmtChartJS(M,aa,M.fmtV5),v6:roundToWithThousands(M,fmtChartJS(M,100*P[ad].value/aj,M.fmtV6),M.roundPct),v7:fmtChartJS(M,T,M.fmtV7),v8:fmtChartJS(M,S,M.fmtV8),v9:fmtChartJS(M,Q,M.fmtV9),v10:fmtChartJS(M,doughnutRadius,M.fmtV10),v11:fmtChartJS(M,ae-aa,M.fmtV11),v12:fmtChartJS(M,ae,M.fmtV12),v13:fmtChartJS(M,ad,M.fmtV13)});var ah=Y.measureText(ac).width;var ag=Math.abs((V.availableWidth/2-ah)/Math.cos(af))-M.inGraphDataPaddingRadius-5;if(ag<doughnutRadius){doughnutRadius=ag}}}}doughnutRadius=doughnutRadius*M.radiusScale}};var z=function(ai,ah,ac){var R,V,ad,O,Q,ag,aa,Y,W,Z,X,af,S=0,M;var N=0;if(!dynamicFunction(ai,ah,ac,"Line")){return}jsGraphAnnotate[ac.canvas.id]=new Array();e(ac,ai,ah,"Line");j(ac,ah);ag=ab();if(ah.logarithmic!==false){if(ag.minValue<=0){ah.logarithmic=false}}var aj=B(Math.pow(10,B(ag.maxValue)+1))-B(Math.pow(10,B(ag.minValue)));if((ah.logarithmic=="fuzzy"&&aj<4)||ah.scaleOverride){ah.logarithmic=false}aa=(ah.scaleShowLabels)?ah.scaleLabel:"";if(!ah.scaleOverride){ad=l(ah,ag.maxSteps,ag.minSteps,ag.maxValue,ag.minValue,aa);M=D(ai,ah,ac,u,w,ad.labels,false,false,true,true,ah.datasetFill)}else{ad={steps:ah.scaleSteps,stepValue:ah.scaleStepWidth,graphMin:ah.scaleStartValue,graphMax:ah.scaleStartValue+ah.scaleSteps*ah.scaleStepWidth,labels:[]};s(ah,aa,ad.labels,ad.steps,ah.scaleStartValue,ad.graphMax,ah.scaleStepWidth);M=D(ai,ah,ac,u,w,ad.labels,false,false,true,true,ah.datasetFill)}M.availableHeight=M.availableHeight-ah.scaleTickSizeBottom-ah.scaleTickSizeTop;M.availableWidth=M.availableWidth-ah.scaleTickSizeLeft-ah.scaleTickSizeRight;V=Math.floor(M.availableHeight/ad.steps);Y=Math.floor(M.availableWidth/(ai.labels.length-1));if(Y==0){Y=(M.availableWidth/(ai.labels.length-1))}M.clrwidth=M.clrwidth-(M.availableWidth-(ai.labels.length-1)*Y);M.availableWidth=(ai.labels.length-1)*Y;M.availableHeight=(ad.steps)*V;X=M.leftNotUsableSize+ah.scaleTickSizeLeft;af=M.topNotUsableSize+M.availableHeight+ah.scaleTickSizeTop;ae();var U=0;if(ag.minValue<0){var U=p(ah,0,ad,V)}h(ah,P,T,ac,M.clrx,M.clry,M.clrwidth,M.clrheight,X+M.availableWidth/2,af-M.availableHeight/2,X,af,ai);function T(an){var av=new Array();var aw=new Array();for(var ap=0;ap<ai.datasets.length;ap++){for(var ao=0;ao<ai.datasets[ap].data.length;ao++){av[ao]=0;aw[ao]=-999999999}}for(var ap=0;ap<ai.datasets.length;ap++){for(var ao=0;ao<ai.datasets[ap].data.length;ao++){av[ao]+=ai.datasets[ap].data[ao];aw[ao]=b([aw[ao],ai.datasets[ap].data[ao]])}}for(var ap=0;ap<ai.datasets.length;ap++){var at=-1;var ar=-1;if(an>=1){if(typeof(ai.datasets[ap].title)=="string"){lgtxt=ai.datasets[ap].title.trim()}else{lgtxt=""}}ac.strokeStyle=ai.datasets[ap].strokeColor;ac.lineWidth=ah.datasetStrokeWidth;ac.beginPath();for(var ao=0;ao<ai.datasets[ap].data.length;ao++){if(!(typeof(ai.datasets[ap].data[ao])=="undefined")){if(at==-1){ac.moveTo(aq(ao),ak(ap,ao));ar=ao}else{if(ah.bezierCurve){ac.bezierCurveTo(aq(ao-(ao-at)/2),ak(ap,at),aq(ao-(ao-at)/2),ak(ap,ao),aq(ao),ak(ap,ao))}else{ac.lineTo(aq(ao),ak(ap,ao))}}at=ao;if(an>=1){if(ap==0){divprev=ai.datasets[ap].data[ao]}else{divprev=ai.datasets[ap].data[ao]-ai.datasets[ap-1].data[ao]}if(ap==ai.datasets.length-1){divnext=ai.datasets[ap].data[ao]}else{divnext=ai.datasets[ap].data[ao]-ai.datasets[ap+1].data[ao]}if(typeof(ai.labels[ao])=="string"){lgtxt2=ai.labels[ao].trim()}else{lgtxt2=""}jsGraphAnnotate[ac.canvas.id][N++]=["POINT",aq(ao),ak(ap,ao),lgtxt,lgtxt2,1*ai.datasets[ap].data[ao],divprev,divnext,aw[ao],av[ao],ap,ao];if(ah.inGraphDataShow){ac.save();ac.textAlign=ah.inGraphDataAlign;ac.textBaseline=ah.inGraphDataVAlign;ac.font=ah.inGraphDataFontStyle+" "+ah.inGraphDataFontSize+"px "+ah.inGraphDataFontFamily;ac.fillStyle=ah.inGraphDataFontColor;var az=X+(Y*al),ay=af-an*(p(ah,ai.datasets[ap].data[ao],ad,V)),ax=ah.inGraphDataPaddingX,au=ah.inGraphDataPaddingY;var am=tmplbis(ah.inGraphDataTmpl,{config:ah,v1:fmtChartJS(ah,lgtxt,ah.fmtV1),v2:fmtChartJS(ah,lgtxt2,ah.fmtV2),v3:fmtChartJS(ah,1*ai.datasets[ap].data[ao],ah.fmtV3),v4:fmtChartJS(ah,divprev,ah.fmtV4),v5:fmtChartJS(ah,divnext,ah.fmtV5),v6:fmtChartJS(ah,aw[ao],ah.fmtV6),v7:fmtChartJS(ah,av[ao],ah.fmtV7),v8:roundToWithThousands(ah,fmtChartJS(ah,100*ai.datasets[ap].data[ao]/av[ao],ah.fmtV8),ah.roundPct),v9:fmtChartJS(ah,X,ah.fmtV9),v10:fmtChartJS(ah,af-(p(ah,ai.datasets[ap].data[ao],ad,V)),ah.fmtV10),v11:fmtChartJS(ah,ap,ah.fmtV11),v12:fmtChartJS(ah,ao,ah.fmtV12)});ac.translate(aq(ao)+ax,ak(ap,ao)-au);ac.rotate(ah.inGraphDataRotate*(Math.PI/180));ac.fillText(am,0,0);ac.restore()}}}}ac.stroke();if(ah.datasetFill){ac.lineTo(X+(Y*(ai.datasets[ap].data.length-1)),af-U);ac.lineTo(aq(ar),af-U);ac.lineTo(aq(ar),ak(ap,ar));ac.closePath();ac.fillStyle=ai.datasets[ap].fillColor;ac.fill()}else{ac.closePath()}if(ah.pointDot){ac.fillStyle=ai.datasets[ap].pointColor;ac.strokeStyle=ai.datasets[ap].pointStrokeColor;ac.lineWidth=ah.pointDotStrokeWidth;for(var al=0;al<ai.datasets[ap].data.length;al++){if(!(typeof(ai.datasets[ap].data[al])=="undefined")){ac.beginPath();ac.arc(X+(Y*al),af-an*(p(ah,ai.datasets[ap].data[al],ad,V)),ah.pointDotRadius,0,Math.PI*2,true);ac.fill();ac.stroke()}}}}function ak(aA,aB){return af-an*(p(ah,ai.datasets[aA].data[aB],ad,V))}function aq(aA){return X+(Y*aA)}}function P(){ac.lineWidth=ah.scaleLineWidth;ac.strokeStyle=ah.scaleLineColor;ac.beginPath();ac.moveTo(X-ah.scaleTickSizeLeft,af);ac.lineTo(X+M.availableWidth+ah.scaleTickSizeRight,af);ac.stroke();for(var al=0;al<ai.labels.length;al++){ac.beginPath();ac.moveTo(X+al*Y,af+ah.scaleTickSizeBottom);ac.lineWidth=ah.scaleGridLineWidth;ac.strokeStyle=ah.scaleGridLineColor;if(ah.scaleShowGridLines&&al>0&&al%ah.scaleXGridLinesStep==0){ac.lineTo(X+al*Y,af-M.availableHeight-ah.scaleTickSizeTop)}else{ac.lineTo(X+al*Y,af)}ac.stroke()}ac.lineWidth=ah.scaleLineWidth;ac.strokeStyle=ah.scaleLineColor;ac.beginPath();ac.moveTo(X,af+ah.scaleTickSizeBottom);ac.lineTo(X,af-M.availableHeight-ah.scaleTickSizeTop);ac.stroke();for(var ak=0;ak<ad.steps;ak++){ac.beginPath();ac.moveTo(X-ah.scaleTickSizeLeft,af-((ak+1)*V));ac.lineWidth=ah.scaleGridLineWidth;ac.strokeStyle=ah.scaleGridLineColor;if(ah.scaleShowGridLines&&ak%ah.scaleYGridLinesStep==0){ac.lineTo(X+M.availableWidth+ah.scaleTickSizeRight,af-((ak+1)*V))}else{ac.lineTo(X,af-((ak+1)*V))}ac.stroke()}}function ae(){ac.font=ah.scaleFontStyle+" "+ah.scaleFontSize+"px "+ah.scaleFontFamily;if(ah.xAxisTop||ah.xAxisBottom){ac.textBaseline="top";if(M.rotateLabels>90){ac.save();ac.textAlign="left"}else{if(M.rotateLabels>0){ac.save();ac.textAlign="right"}else{ac.textAlign="center"}}ac.fillStyle=ah.scaleFontColor;if(ah.xAxisBottom){for(var al=0;al<ai.labels.length;al++){ac.save();if(M.rotateLabels>0){ac.translate(X+al*Y-ah.scaleFontSize/2,M.xLabelPos);ac.rotate(-(M.rotateLabels*(Math.PI/180)));ac.fillText(fmtChartJS(ah,ai.labels[al],ah.fmtXLabel),0,0)}else{ac.fillText(fmtChartJS(ah,ai.labels[al],ah.fmtXLabel),X+al*Y,M.xLabelPos)}ac.restore()}}}ac.textAlign="right";ac.textBaseline="middle";for(var ak=((ah.showYAxisMin)?-1:0);ak<ad.steps;ak++){if(ah.scaleShowLabels){if(ah.yAxisLeft){ac.textAlign="right";ac.fillText(fmtChartJS(ah,ad.labels[ak+1],ah.fmtYLabel),X-(ah.scaleTickSizeLeft+ah.yAxisSpaceRight),af-((ak+1)*V))}if(ah.yAxisRight){ac.textAlign="left";ac.fillText(fmtChartJS(ah,ad.labels[ak+1],ah.fmtYLabel),X+M.availableWidth+(ah.scaleTickSizeRight+ah.yAxisSpaceRight),af-((ak+1)*V))}}}}function ab(){var ap=Number.MIN_VALUE;var ak=Number.MAX_VALUE;for(var ao=0;ao<ai.datasets.length;ao++){for(var an=0;an<ai.datasets[ao].data.length;an++){if(1*ai.datasets[ao].data[an]>ap){ap=1*ai.datasets[ao].data[an]}if(1*ai.datasets[ao].data[an]<ak){ak=1*ai.datasets[ao].data[an]}}}if(Math.abs(ap-ak)<1e-8){ap=b([ap*2,1]);ak=0}if(!isNaN(ah.graphMin)){ak=ah.graphMin}if(!isNaN(ah.graphMax)){ap=ah.graphMax}var am=Math.floor((Q/(O*0.66)));var al=Math.floor((Q/O*0.5));return{maxValue:ap,minValue:ak,maxSteps:am,minSteps:al}}};var C=function(aj,ai,ac){var R,T,ae,O,Q,ah,Y,W,U,X,V,ag,aa,S=0,M;if(!dynamicFunction(aj,ai,ac,"StackedBar")){return}ai.logarithmic=false;var N=0;jsGraphAnnotate[ac.canvas.id]=new Array();e(ac,aj,ai,"StackedBar");j(ac,ai);ah=Z();Y=(ai.scaleShowLabels)?ai.scaleLabel:"";if(!ai.scaleOverride){ae=l(ai,ah.maxSteps,ah.minSteps,ah.maxValue,ah.minValue,Y);M=D(aj,ai,ac,u,w,ae.labels,true,false,true,true,true)}else{ae={steps:ai.scaleSteps,stepValue:ai.scaleStepWidth,graphMin:ai.scaleStartValue,labels:[]};for(var ad=0;ad<ae.steps;ad++){if(Y){ae.labels.push(m(Y,{value:fmtChartJS(ai,1*((ai.scaleStartValue+(ai.scaleStepWidth*(ad+1))).toFixed(H(ai.scaleStepWidth))),ai.fmtYLabel)}))}}M=D(aj,ai,ac,u,w,ae.labels,true,false,true,true,true)}M.availableHeight=M.availableHeight-ai.scaleTickSizeBottom-ai.scaleTickSizeTop;M.availableWidth=M.availableWidth-ai.scaleTickSizeLeft-ai.scaleTickSizeRight;T=Math.floor(M.availableHeight/ae.steps);W=Math.floor(M.availableWidth/(aj.labels.length));if(W==0){W=(M.availableWidth/(aj.labels.length-1))}M.clrwidth=M.clrwidth-(M.availableWidth-((aj.labels.length)*W));M.availableWidth=(aj.labels.length)*W;M.availableHeight=(ae.steps)*T;V=M.leftNotUsableSize+ai.scaleTickSizeLeft;ag=M.topNotUsableSize+M.availableHeight+ai.scaleTickSizeTop;aa=(W-ai.scaleGridLineWidth*2-(ai.barValueSpacing*2)-(ai.barDatasetSpacing*aj.datasets.length-1)-(ai.barStrokeWidth/2)-1);af();h(ai,P,ab,ac,M.clrx,M.clry,M.clrwidth,M.clrheight,V+M.availableWidth/2,ag-M.availableHeight/2,V,ag,aj);function ab(an){ac.lineWidth=ai.barStrokeWidth;var av=new Array(aj.datasets.length);var at=new Array(aj.datasets.length);var ak=new Array();var au=new Array();for(var aq=0;aq<aj.datasets.length;aq++){for(var ap=0;ap<aj.datasets[aq].data.length;ap++){ak[ap]=0;au[ap]=0}}for(var aq=0;aq<aj.datasets.length;aq++){for(var ap=0;ap<aj.datasets[aq].data.length;ap++){if(!(typeof(aj.datasets[aq].data[ap])=="undefined")){au[ap]+=1*aj.datasets[aq].data[ap]}}}for(var aq=0;aq<aj.datasets.length;aq++){ac.fillStyle=aj.datasets[aq].fillColor;ac.strokeStyle=aj.datasets[aq].strokeColor;if(an>=1){if(typeof(aj.datasets[aq].title)=="string"){lgtxt=aj.datasets[aq].title.trim()}else{lgtxt=""}}for(var ap=0;ap<aj.datasets[aq].data.length;ap++){if(aq==0){av[ap]=0;at[ap]=-1}if(!(typeof(aj.datasets[aq].data[ap])=="undefined")){var ao=V+ai.barValueSpacing+W*ap;ac.beginPath();ac.moveTo(ao,ag-av[ap]+1);ac.lineTo(ao,ag-an*p(ai,(at[ap]>=0)*ae.graphMin+1*aj.datasets[aq].data[ap],ae,T)+(ai.barStrokeWidth/2)-av[ap]);ac.lineTo(ao+aa,ag-an*p(ai,(at[ap]>=0)*ae.graphMin+1*aj.datasets[aq].data[ap],ae,T)+(ai.barStrokeWidth/2)-av[ap]);ac.lineTo(ao+aa,ag-av[ap]+1);if(ai.barShowStroke){ac.stroke()}ac.closePath();ac.fill();ak[ap]+=1*aj.datasets[aq].data[ap];if(an>=1){if(typeof(aj.labels[ap])=="string"){lgtxt2=aj.labels[ap].trim()}else{lgtxt2=""}jsGraphAnnotate[ac.canvas.id][N++]=["RECT",ao,ag-av[ap]+1,ao+aa,ag-p(ai,(at[ap]>=0)*ae.graphMin+1*aj.datasets[aq].data[ap],ae,T)+(ai.barStrokeWidth/2)-av[ap],lgtxt,lgtxt2,1*aj.datasets[aq].data[ap],ak[ap],au[ap],aq,ap]}av[ap]+=an*p(ai,(at[ap]>=0)*ae.graphMin+1*aj.datasets[aq].data[ap],ae,T)-(ai.barStrokeWidth/2);if(at[ap]==-1){at[ap]=aq}}}}if(an>=1&&ai.inGraphDataShow){var al=0,ar=0;for(var aq=0;aq<aj.datasets.length;aq++){for(var ap=0;ap<aj.datasets[aq].data.length;ap++){ak[ap]=0}}for(var aq=0;aq<aj.datasets.length;aq++){if(typeof(aj.datasets[aq].title)=="string"){lgtxt=aj.datasets[aq].title.trim()}else{lgtxt=""}for(var ap=0;ap<aj.datasets[aq].data.length;ap++){if(aq==0){av[ap]=0;at[ap]=-1}if(!(typeof(aj.datasets[aq].data[ap])=="undefined")){ac.save();ac.textAlign=ai.inGraphDataAlign;ac.textBaseline=ai.inGraphDataVAlign;ac.font=ai.inGraphDataFontStyle+" "+ai.inGraphDataFontSize+"px "+ai.inGraphDataFontFamily;ac.fillStyle=ai.inGraphDataFontColor;if(typeof(aj.labels[ap])=="string"){lgtxt2=aj.labels[ap].trim()}else{lgtxt2=""}var am=tmplbis(ai.inGraphDataTmpl,{config:ai,v1:fmtChartJS(ai,lgtxt,ai.fmtV1),v2:fmtChartJS(ai,lgtxt2,ai.fmtV2),v3:fmtChartJS(ai,1*aj.datasets[aq].data[ap],ai.fmtV3),v4:fmtChartJS(ai,ak[ap],ai.fmtV4),v5:fmtChartJS(ai,au[ap],ai.fmtV5),v6:roundToWithThousands(ai,fmtChartJS(ai,100*aj.datasets[aq].data[ap]/au[ap],ai.fmtV6),ai.roundPct),v7:fmtChartJS(ai,ao,ai.fmtV7),v8:fmtChartJS(ai,ag,ai.fmtV8),v9:fmtChartJS(ai,ao+aa,ai.fmtV9),v10:fmtChartJS(ai,ag-p(ai,aj.datasets[aq].data[ap],ae,T)+(ai.barStrokeWidth/2),ai.fmtV10),v11:fmtChartJS(ai,aq,ai.fmtV11),v12:fmtChartJS(ai,ap,ai.fmtV12)});var ao=V+ai.barValueSpacing+W*ap;ac.beginPath();ac.beginPath();al=0;ar=0;if(ai.inGraphDataXPosition==1){ar=ao+ai.inGraphDataPaddingX}else{if(ai.inGraphDataXPosition==2){ar=ao+aa/2+ai.inGraphDataPaddingX}else{if(ai.inGraphDataXPosition==3){ar=ao+aa+ai.inGraphDataPaddingX}}}if(ai.inGraphDataYPosition==1){al=ag-av[ap]-ai.inGraphDataPaddingY}else{if(ai.inGraphDataYPosition==2){al=ag-(p(ai,(at[ap]>=0)*ae.graphMin+1*aj.datasets[aq].data[ap],ae,T)+(ai.barStrokeWidth/2))/2-av[ap]-ai.inGraphDataPaddingY}else{if(ai.inGraphDataYPosition==3){al=ag-p(ai,(at[ap]>=0)*ae.graphMin+1*aj.datasets[aq].data[ap],ae,T)+(ai.barStrokeWidth/2)-av[ap]-ai.inGraphDataPaddingY}}}ac.translate(ar,al);ac.rotate(ai.inGraphDataRotate*(Math.PI/180));ac.fillText(am,0,0);ac.restore();ak[ap]+=1+aj.datasets[aq].data[ap];av[ap]+=an*p(ai,(at[ap]>=0)*ae.graphMin+1*aj.datasets[aq].data[ap],ae,T)-(ai.barStrokeWidth/2);if(at[ap]==-1){at[ap]=aq}}}}}}function P(){ac.lineWidth=ai.scaleLineWidth;ac.strokeStyle=ai.scaleLineColor;ac.beginPath();ac.moveTo(V-ai.scaleTickSizeLeft,ag);ac.lineTo(V+M.availableWidth+ai.scaleTickSizeRight,ag);ac.stroke();for(var al=0;al<aj.labels.length;al++){ac.beginPath();ac.moveTo(V+al*W,ag+ai.scaleTickSizeBottom);ac.lineWidth=ai.scaleGridLineWidth;ac.strokeStyle=ai.scaleGridLineColor;if(ai.scaleShowGridLines&&al>0&&al%ai.scaleXGridLinesStep==0){ac.lineTo(V+al*W,ag-M.availableHeight-ai.scaleTickSizeTop)}else{ac.lineTo(V+al*W,ag)}ac.stroke()}ac.lineWidth=ai.scaleLineWidth;ac.strokeStyle=ai.scaleLineColor;ac.beginPath();ac.moveTo(V,ag+ai.scaleTickSizeBottom);ac.lineTo(V,ag-M.availableHeight-ai.scaleTickSizeTop);ac.stroke();for(var ak=((ai.showYAxisMin)?-1:0);ak<ae.steps;ak++){ac.beginPath();ac.moveTo(V-ai.scaleTickSizeLeft,ag-((ak+1)*T));ac.lineWidth=ai.scaleGridLineWidth;ac.strokeStyle=ai.scaleGridLineColor;if(ai.scaleShowGridLines&&ak%ai.scaleYGridLinesStep==0){ac.lineTo(V+M.availableWidth+ai.scaleTickSizeRight,ag-((ak+1)*T))}else{ac.lineTo(V,ag-((ak+1)*T))}ac.stroke()}}function af(){ac.font=ai.scaleFontStyle+" "+ai.scaleFontSize+"px "+ai.scaleFontFamily;if(ai.xAxisTop||ai.xAxisBottom){ac.textBaseline="top";if(M.rotateLabels>90){ac.save();ac.textAlign="left"}else{if(M.rotateLabels>0){ac.save();ac.textAlign="right"}else{ac.textAlign="center"}}ac.fillStyle=ai.scaleFontColor;if(ai.xAxisBottom){for(var al=0;al<aj.labels.length;al++){ac.save();if(M.rotateLabels>0){ac.translate(V+al*W+(aa/2)-ai.scaleFontSize/2,M.xLabelPos);ac.rotate(-(M.rotateLabels*(Math.PI/180)));ac.fillText(fmtChartJS(ai,aj.labels[al],ai.fmtXLabel),0,0)}else{ac.fillText(fmtChartJS(ai,aj.labels[al],ai.fmtXLabel),V+al*W+(aa/2),M.xLabelPos)}ac.restore()}}}ac.textAlign="right";ac.textBaseline="middle";for(var ak=((ai.showYAxisMin)?-1:0);ak<ae.steps;ak++){if(ai.scaleShowLabels){if(ai.yAxisLeft){ac.textAlign="right";ac.fillText(fmtChartJS(ai,ae.labels[ak+1],ai.fmtYLabel),V-(ai.scaleTickSizeLeft+ai.yAxisSpaceRight),ag-((ak+1)*T))}if(ai.yAxisRight){ac.textAlign="left";ac.fillText(fmtChartJS(ai,ae.labels[ak+1],ai.fmtYLabel),V+M.availableWidth+(ai.scaleTickSizeRight+ai.yAxisSpaceRight),ag-((ak+1)*T))}}}}function Z(){var at=Number.MIN_VALUE;var an=Number.MAX_VALUE;var ak=new Array(aj.datasets.length);var aq=new Array(aj.datasets.length);for(var ao=0;ao<aj.datasets.length;ao++){for(var am=0;am<aj.datasets[ao].data.length;am++){var al=ao;var au=0;if(!(typeof(aj.datasets[0].data[am])=="undefined")){au+=1*aj.datasets[0].data[am];if(au>at){at=au}if(au<an){an=au}}while(al>0){if(!(typeof(aj.datasets[al].data[am])=="undefined")){au+=1*aj.datasets[al].data[am];if(au>at){at=au}if(au<an){an=au}}al--}}}if(!isNaN(ai.graphMin)){an=ai.graphMin}if(!isNaN(ai.graphMax)){at=ai.graphMax}if(Math.abs(at-an)<1e-8){at=b([at*2,1]);an=0}var ap=Math.floor((Q/(O*0.66)));var ar=Math.floor((Q/O*0.5));return{maxValue:at,minValue:an,maxSteps:ap,minSteps:ar}}};var A=function(ak,aj,ad){var R,T,af,O,Q,ai,Z,W,U,X,V,ah,ab,S=0,M;if(!dynamicFunction(ak,aj,ad,"HorizontalStackedBar")){return}aj.logarithmic=false;var N=0;jsGraphAnnotate[ad.canvas.id]=new Array();e(ad,ak,aj,"HorizontalStackedBar");j(ad,aj);ai=aa();Z=(aj.scaleShowLabels)?aj.scaleLabel:"";if(!aj.scaleOverride){af=l(aj,ai.maxSteps,ai.minSteps,ai.maxValue,ai.minValue,Z);M=D(ak,aj,ad,u,w,af.labels,true,true,true,true,true)}else{af={steps:aj.scaleSteps,stepValue:aj.scaleStepWidth,graphMin:aj.scaleStartValue,labels:[]};for(var ae=0;ae<af.steps;ae++){if(Z){af.labels.push(m(Z,{value:fmtChartJS(aj,1*((aj.scaleStartValue+(aj.scaleStepWidth*(ae+1))).toFixed(H(aj.scaleStepWidth))),aj.fmtYLabel)}))}}M=D(ak,aj,ad,u,w,af.labels,true,true,true,true,true)}M.availableHeight=M.availableHeight-aj.scaleTickSizeBottom-aj.scaleTickSizeTop;M.availableWidth=M.availableWidth-aj.scaleTickSizeLeft-aj.scaleTickSizeRight;T=Math.floor(M.availableHeight/ak.labels.length);W=Math.floor(M.availableWidth/(af.steps));if(W==0){W=(M.availableWidth/(ak.labels.length-1))}M.clrwidth=M.clrwidth-(M.availableWidth-(af.steps*W));M.availableWidth=(af.steps)*W;M.availableHeight=(ak.labels.length)*T;V=M.leftNotUsableSize+aj.scaleTickSizeLeft;ah=M.topNotUsableSize+M.availableHeight+aj.scaleTickSizeTop;ab=(T-aj.scaleGridLineWidth*2-(aj.barValueSpacing*2)-(aj.barDatasetSpacing*ak.datasets.length-1)-(aj.barStrokeWidth/2)-1);ag();h(aj,P,ac,ad,M.clrx,M.clry,M.clrwidth,M.clrheight,V+M.availableWidth/2,ah-M.availableHeight/2,V,ah,ak);function Y(ao,am,aq){var ap=am.steps*am.stepValue;var an=ao-am.graphMin;var al=n(an/ap,1,0);return(aq*am.steps)*al}function ac(ao){ad.lineWidth=aj.barStrokeWidth;var aw=new Array(ak.datasets.length);var au=new Array(ak.datasets.length);var al=new Array();var av=new Array();for(var ar=0;ar<ak.datasets.length;ar++){for(var aq=0;aq<ak.datasets[ar].data.length;aq++){al[aq]=0;av[aq]=0}}for(var ar=0;ar<ak.datasets.length;ar++){for(var aq=0;aq<ak.datasets[ar].data.length;aq++){if(!(typeof(ak.datasets[ar].data[aq])=="undefined")){av[aq]+=1*ak.datasets[ar].data[aq]}}}for(var ar=0;ar<ak.datasets.length;ar++){ad.fillStyle=ak.datasets[ar].fillColor;ad.strokeStyle=ak.datasets[ar].strokeColor;if(ao>=1){if(typeof(ak.datasets[ar].title)=="string"){lgtxt=ak.datasets[ar].title.trim()}else{lgtxt=""}}for(var aq=0;aq<ak.datasets[ar].data.length;aq++){if(ar==0){aw[aq]=0;au[aq]=-1}if(!(typeof(ak.datasets[ar].data[aq])=="undefined")){var ap=ah+aj.barValueSpacing-T*(aq+1);ad.beginPath();ad.moveTo(V+aw[aq]+1,ap);ad.lineTo(V+aw[aq]+ao*Y((au[aq]>=0)*af.graphMin+1*ak.datasets[ar].data[aq],af,W)+(aj.barStrokeWidth/2),ap);ad.lineTo(V+aw[aq]+ao*Y((au[aq]>=0)*af.graphMin+1*ak.datasets[ar].data[aq],af,W)+(aj.barStrokeWidth/2),ap+ab);ad.lineTo(V+aw[aq]+1,ap+ab);ad.lineTo(V+aw[aq]+1,ap);if(aj.barShowStroke){ad.stroke()}ad.closePath();ad.fill();al[aq]+=1*ak.datasets[ar].data[aq];if(ao>=1){if(typeof(ak.labels[aq])=="string"){lgtxt2=ak.labels[aq].trim()}else{lgtxt2=""}jsGraphAnnotate[ad.canvas.id][N++]=["RECT",V+aw[aq]+1,ap+ab,V+aw[aq]+Y((au[aq]>=0)*af.graphMin+1*ak.datasets[ar].data[aq],af,W)+(aj.barStrokeWidth/2),ap,lgtxt,lgtxt2,1*ak.datasets[ar].data[aq],al[aq],av[aq],ar,aq]}aw[aq]+=ao*Y((au[aq]>=0)*af.graphMin+1*ak.datasets[ar].data[aq],af,W)+(aj.barStrokeWidth/2);if(au[aq]==-1){au[aq]=ar}}}}if(ao>=1&&aj.inGraphDataShow){var am=0,at=0;for(var ar=0;ar<ak.datasets.length;ar++){for(var aq=0;aq<ak.datasets[ar].data.length;aq++){al[aq]=0}}for(var ar=0;ar<ak.datasets.length;ar++){if(typeof(ak.datasets[ar].title)=="string"){lgtxt=ak.datasets[ar].title.trim()}else{lgtxt=""}for(var aq=0;aq<ak.datasets[ar].data.length;aq++){if(ar==0){aw[aq]=0;au[aq]=-1}if(!(typeof(ak.datasets[ar].data[aq])=="undefined")){ad.save();ad.textAlign=aj.inGraphDataAlign;ad.textBaseline=aj.inGraphDataVAlign;ad.font=aj.inGraphDataFontStyle+" "+aj.inGraphDataFontSize+"px "+aj.inGraphDataFontFamily;ad.fillStyle=aj.inGraphDataFontColor;if(typeof(ak.labels[aq])=="string"){lgtxt2=ak.labels[aq].trim()}else{lgtxt2=""}var ap=ah+aj.barValueSpacing-T*(aq+1);var an=tmplbis(aj.inGraphDataTmpl,{config:aj,v1:fmtChartJS(aj,lgtxt,aj.fmtV1),v2:fmtChartJS(aj,lgtxt2,aj.fmtV2),v3:fmtChartJS(aj,1*ak.datasets[ar].data[aq],aj.fmtV3),v4:fmtChartJS(aj,al[aq],aj.fmtV4),v5:fmtChartJS(aj,av[aq],aj.fmtV5),v6:roundToWithThousands(aj,fmtChartJS(aj,100*ak.datasets[ar].data[aq]/av[aq],aj.fmtV6),aj.roundPct),v7:fmtChartJS(aj,V,aj.fmtV7),v8:fmtChartJS(aj,ap+ab,aj.fmtV8),v9:fmtChartJS(aj,V+Y(ak.datasets[ar].data[aq],af,W)+(aj.barStrokeWidth/2),aj.fmtV9),v10:fmtChartJS(aj,ap,aj.fmtV10),v11:fmtChartJS(aj,ar,aj.fmtV11),v12:fmtChartJS(aj,aq,aj.fmtV12)});ad.beginPath();am=0;at=0;if(aj.inGraphDataXPosition==1){at=V+aw[aq]+1+aj.inGraphDataPaddingX}else{if(aj.inGraphDataXPosition==2){at=V+aw[aq]+(Y((au[aq]>=0)*af.graphMin+1*ak.datasets[ar].data[aq],af,W)+(aj.barStrokeWidth/2))/2+aj.inGraphDataPaddingX}else{if(aj.inGraphDataXPosition==3){at=V+aw[aq]+Y((au[aq]>=0)*af.graphMin+1*ak.datasets[ar].data[aq],af,W)+(aj.barStrokeWidth/2)+aj.inGraphDataPaddingX}}}if(aj.inGraphDataYPosition==1){am=ap+ab-aj.inGraphDataPaddingY}else{if(aj.inGraphDataYPosition==2){am=ap+ab/2-aj.inGraphDataPaddingY}else{if(aj.inGraphDataYPosition==3){am=ap-aj.inGraphDataPaddingY}}}ad.translate(at,am);ad.rotate(aj.inGraphDataRotate*(Math.PI/180));ad.fillText(an,0,0);ad.restore();al[aq]+=ak.datasets[ar].data[aq];aw[aq]+=ao*Y((au[aq]>=0)*af.graphMin+1*ak.datasets[ar].data[aq],af,W)+(aj.barStrokeWidth/2);if(au[aq]==-1){au[aq]=ar}}}}}}function P(){ad.lineWidth=aj.scaleLineWidth;ad.strokeStyle=aj.scaleLineColor;ad.beginPath();ad.moveTo(V-aj.scaleTickSizeLeft,ah);ad.lineTo(V+M.availableWidth,ah);ad.stroke();for(var am=((aj.showYAxisMin)?-1:0);am<af.steps;am++){if(am>=0){ad.beginPath();ad.moveTo(V+am*W,ah+aj.scaleTickSizeBottom);ad.lineWidth=aj.scaleGridLineWidth;ad.strokeStyle=aj.scaleGridLineColor;if(aj.scaleShowGridLines&&am>0&&am%aj.scaleXGridLinesStep==0){ad.lineTo(V+am*W,ah-M.availableHeight-aj.scaleTickSizeTop)}else{ad.lineTo(V+am*W,ah)}ad.stroke()}}ad.lineWidth=aj.scaleLineWidth;ad.strokeStyle=aj.scaleLineColor;ad.beginPath();ad.moveTo(V,ah+aj.scaleTickSizeBottom);ad.lineTo(V,ah-M.availableHeight-aj.scaleTickSizeTop);ad.stroke();for(var al=0;al<ak.labels.length;al++){ad.beginPath();ad.moveTo(V-aj.scaleTickSizeLeft,ah-((al+1)*T));ad.lineWidth=aj.scaleGridLineWidth;ad.strokeStyle=aj.scaleGridLineColor;if(aj.scaleShowGridLines&&al%aj.scaleYGridLinesStep==0){ad.lineTo(V+M.availableWidth,ah-((al+1)*T))}else{ad.lineTo(V,ah-((al+1)*T))}ad.stroke()}}function ag(){ad.font=aj.scaleFontStyle+" "+aj.scaleFontSize+"px "+aj.scaleFontFamily;if(aj.xAxisTop||aj.xAxisBottom){ad.textBaseline="top";if(M.rotateLabels>90){ad.save();ad.textAlign="left"}else{if(M.rotateLabels>0){ad.save();ad.textAlign="right"}else{ad.textAlign="center"}}ad.fillStyle=aj.scaleFontColor;if(aj.xAxisBottom){for(var am=((aj.showYAxisMin)?-1:0);am<af.steps;am++){ad.save();if(M.rotateLabels>0){ad.translate(V+(am+1)*W-aj.scaleFontSize/2,M.xLabelPos);ad.rotate(-(M.rotateLabels*(Math.PI/180)));ad.fillText(fmtChartJS(aj,af.labels[am+1],aj.fmtYLabel),0,0)}else{ad.fillText(fmtChartJS(aj,af.labels[am+1],aj.fmtYLabel),V+((am+1)*W),M.xLabelPos)}ad.restore()}}}ad.textAlign="right";ad.textBaseline="middle";for(var al=0;al<ak.labels.length;al++){if(aj.scaleShowLabels){if(aj.yAxisLeft){ad.textAlign="right";ad.fillText(fmtChartJS(aj,ak.labels[al],aj.fmtXLabel),V-(aj.scaleTickSizeLeft+aj.yAxisSpaceRight),ah-((al+1)*T)+ab/2)}if(aj.yAxisRight){ad.textAlign="left";ad.fillText(fmtChartJS(aj,ak.labels[al],aj.fmtXLabel),V+M.availableWidth+(aj.scaleTickSizeRight+aj.yAxisSpaceRight),ah-((al+1)*T)+ab/2)}}}}function aa(){var au=Number.MIN_VALUE;var ao=Number.MAX_VALUE;var al=new Array(ak.datasets.length);var ar=new Array(ak.datasets.length);for(var ap=0;ap<ak.datasets.length;ap++){for(var an=0;an<ak.datasets[ap].data.length;an++){var am=ap;var av=0;if(!(typeof(ak.datasets[0].data[an])=="undefined")){av+=1*ak.datasets[0].data[an];if(av>au){au=av}if(av<ao){ao=av}}while(am>0){if(!(typeof(ak.datasets[am].data[an])=="undefined")){av+=1*ak.datasets[am].data[an];if(av>au){au=av}if(av<ao){ao=av}}am--}}}if(!isNaN(aj.graphMin)){ao=aj.graphMin}if(!isNaN(aj.graphMax)){au=aj.graphMax}if(Math.abs(au-ao)<1e-8){au=b([au*2,1]);ao=0}var aq=Math.floor((Q/(O*0.66)));var at=Math.floor((Q/O*0.5));return{maxValue:au,minValue:ao,maxSteps:aq,minSteps:at}}};var c=function(aj,ai,ad){var R,U,ae,O,Q,ah,Z,X,V,Y,W,ag,ab,S=0,M;var N=0;if(!dynamicFunction(aj,ai,ad,"Bar")){return}jsGraphAnnotate[ad.canvas.id]=new Array();e(ad,aj,ai,"Bar");j(ad,ai);ah=aa();if(ai.logarithmic!==false){if(ah.minValue<=0){ai.logarithmic=false}}var ak=B(Math.pow(10,B(ah.maxValue)+1))-B(Math.pow(10,B(ah.minValue)));if((ai.logarithmic=="fuzzy"&&ak<4)||ai.scaleOverride){ai.logarithmic=false}Z=(ai.scaleShowLabels)?ai.scaleLabel:"";if(!ai.scaleOverride){ae=l(ai,ah.maxSteps,ah.minSteps,ah.maxValue,ah.minValue,Z);M=D(aj,ai,ad,u,w,ae.labels,true,false,true,true,true)}else{ae={steps:ai.scaleSteps,stepValue:ai.scaleStepWidth,graphMin:ai.scaleStartValue,graphMax:ai.scaleStartValue+ai.scaleSteps*ai.scaleStepWidth,labels:[]};s(ai,Z,ae.labels,ae.steps,ai.scaleStartValue,ae.graphMax,ai.scaleStepWidth);M=D(aj,ai,ad,u,w,ae.labels,true,false,true,true,true)}M.availableHeight=M.availableHeight-ai.scaleTickSizeBottom-ai.scaleTickSizeTop;M.availableWidth=M.availableWidth-ai.scaleTickSizeLeft-ai.scaleTickSizeRight;U=Math.floor(M.availableHeight/ae.steps);X=Math.floor(M.availableWidth/(aj.labels.length));if(X==0){X=(M.availableWidth/(aj.labels.length-1))}M.clrwidth=M.clrwidth-(M.availableWidth-((aj.labels.length)*X));M.availableWidth=(aj.labels.length)*X;M.availableHeight=(ae.steps)*U;W=M.leftNotUsableSize+ai.scaleTickSizeLeft;ag=M.topNotUsableSize+M.availableHeight+ai.scaleTickSizeTop;ab=(X-ai.scaleGridLineWidth*2-(ai.barValueSpacing*2)-(ai.barDatasetSpacing*aj.datasets.length-1)-((ai.barStrokeWidth/2)*aj.datasets.length-1))/aj.datasets.length;var T=0;if(ah.minValue<0){var T=p(ai,0,ae,U)}af();h(ai,P,ac,ad,M.clrx,M.clry,M.clrwidth,M.clrheight,W+M.availableWidth/2,ag-M.availableHeight/2,W,ag,aj);function ac(ap){var aw,av,ar;var al=new Array();var ax=new Array();for(var at=0;at<aj.datasets.length;at++){for(var aq=0;aq<aj.datasets[at].data.length;aq++){al[aq]=0;ax[aq]=0}}for(var at=0;at<aj.datasets.length;at++){for(var aq=0;aq<aj.datasets[at].data.length;aq++){if(!(typeof(aj.datasets[at].data[aq])=="undefined")){ax[aq]+=1*aj.datasets[at].data[aq]}}}ad.lineWidth=ai.barStrokeWidth;for(var at=0;at<aj.datasets.length;at++){ad.fillStyle=aj.datasets[at].fillColor;ad.strokeStyle=aj.datasets[at].strokeColor;if(ap>=1){if(typeof(aj.datasets[at].title)=="string"){lgtxt=aj.datasets[at].title.trim()}else{lgtxt=""}}for(var aq=0;aq<aj.datasets[at].data.length;aq++){if(!(typeof(aj.datasets[at].data[aq])=="undefined")){var ao=W+ai.barValueSpacing+X*aq+ab*at+ai.barDatasetSpacing*at+ai.barStrokeWidth*at;ad.beginPath();ad.moveTo(ao,ag-T);ad.lineTo(ao,ag-ap*p(ai,1*aj.datasets[at].data[aq],ae,U)+(ai.barStrokeWidth/2));ad.lineTo(ao+ab,ag-ap*p(ai,1*aj.datasets[at].data[aq],ae,U)+(ai.barStrokeWidth/2));ad.lineTo(ao+ab,ag-T);if(ai.barShowStroke){ad.stroke()}ad.closePath();ad.fill();al[aq]+=1*aj.datasets[at].data[aq];if(ap>=1){if(typeof(aj.labels[aq])=="string"){lgtxt2=aj.labels[aq].trim()}else{lgtxt2=""}aw=ag-T;av=ag-p(ai,1*aj.datasets[at].data[aq],ae,U)+(ai.barStrokeWidth/2);if(aw<av){ar=aw;aw=av;av=ar}jsGraphAnnotate[ad.canvas.id][N++]=["RECT",ao,aw,ao+ab,av,lgtxt,lgtxt2,1*aj.datasets[at].data[aq],al[aq],ax[aq],at,aq]}}}}if(ap>=1&&ai.inGraphDataShow){for(var at=0;at<aj.datasets.length;at++){for(var aq=0;aq<aj.datasets[at].data.length;aq++){al[aq]=0}}for(var at=0;at<aj.datasets.length;at++){if(typeof(aj.datasets[at].title)=="string"){lgtxt=aj.datasets[at].title.trim()}else{lgtxt=""}for(var aq=0;aq<aj.datasets[at].data.length;aq++){if(!(typeof(aj.datasets[at].data[aq])=="undefined")){if(typeof(aj.labels[aq])=="string"){lgtxt2=aj.labels[aq].trim()}ad.save();ad.textAlign=ai.inGraphDataAlign;ad.textBaseline=ai.inGraphDataVAlign;ad.font=ai.inGraphDataFontStyle+" "+ai.inGraphDataFontSize+"px "+ai.inGraphDataFontFamily;ad.fillStyle=ai.inGraphDataFontColor;var ao=W+ai.barValueSpacing+X*aq+ab*at+ai.barDatasetSpacing*at+ai.barStrokeWidth*at;aw=ag-T;av=ag-p(ai,1*aj.datasets[at].data[aq],ae,U)+(ai.barStrokeWidth/2);ad.beginPath();var am=0,au=0;if(ai.inGraphDataXPosition==1){au=ao+ai.inGraphDataPaddingX}else{if(ai.inGraphDataXPosition==2){au=ao+ab/2+ai.inGraphDataPaddingX}else{if(ai.inGraphDataXPosition==3){au=ao+ab+ai.inGraphDataPaddingX}}}if(ai.inGraphDataYPosition==1){am=ag-T-ai.inGraphDataPaddingY}else{if(ai.inGraphDataYPosition==2){am=ag-(p(ai,1*aj.datasets[at].data[aq],ae,U)+(ai.barStrokeWidth/2))/2-ai.inGraphDataPaddingY}else{if(ai.inGraphDataYPosition==3){am=ag-p(ai,1*aj.datasets[at].data[aq],ae,U)+(ai.barStrokeWidth/2)-ai.inGraphDataPaddingY}}}ad.translate(au,am);var an=tmplbis(ai.inGraphDataTmpl,{config:ai,v1:fmtChartJS(ai,lgtxt,ai.fmtV1),v2:fmtChartJS(ai,lgtxt2,ai.fmtV2),v3:fmtChartJS(ai,1*aj.datasets[at].data[aq],ai.fmtV3),v4:fmtChartJS(ai,al[aq],ai.fmtV4),v5:fmtChartJS(ai,ax[aq],ai.fmtV5),v6:roundToWithThousands(ai,fmtChartJS(ai,100*aj.datasets[at].data[aq]/ax[aq],ai.fmtV6),ai.roundPct),v7:fmtChartJS(ai,ao,ai.fmtV7),v8:fmtChartJS(ai,aw,ai.fmtV8),v9:fmtChartJS(ai,ao+ab,ai.fmtV9),v10:fmtChartJS(ai,av,ai.fmtV10),v11:fmtChartJS(ai,at,ai.fmtV11),v12:fmtChartJS(ai,aq,ai.fmtV12)});ad.rotate(ai.inGraphDataRotate*(Math.PI/180));ad.fillText(an,0,0);ad.restore();al[aq]+=1*aj.datasets[at].data[aq]}}}}}function P(){ad.lineWidth=ai.scaleLineWidth;ad.strokeStyle=ai.scaleLineColor;ad.beginPath();ad.moveTo(W-ai.scaleTickSizeLeft,ag);ad.lineTo(W+M.availableWidth+ai.scaleTickSizeRight,ag);ad.stroke();for(var am=0;am<aj.labels.length;am++){ad.beginPath();ad.moveTo(W+am*X,ag+ai.scaleTickSizeBottom);ad.lineWidth=ai.scaleGridLineWidth;ad.strokeStyle=ai.scaleGridLineColor;if(ai.scaleShowGridLines&&am>0&&am%ai.scaleXGridLinesStep==0){ad.lineTo(W+am*X,ag-M.availableHeight-ai.scaleTickSizeTop)}else{ad.lineTo(W+am*X,ag)}ad.stroke()}ad.lineWidth=ai.scaleLineWidth;ad.strokeStyle=ai.scaleLineColor;ad.beginPath();ad.moveTo(W,ag+ai.scaleTickSizeBottom);ad.lineTo(W,ag-M.availableHeight-ai.scaleTickSizeTop);ad.stroke();for(var al=0;al<ae.steps;al++){ad.beginPath();ad.moveTo(W-ai.scaleTickSizeLeft,ag-((al+1)*U));ad.lineWidth=ai.scaleGridLineWidth;ad.strokeStyle=ai.scaleGridLineColor;if(ai.scaleShowGridLines&&al%ai.scaleYGridLinesStep==0){ad.lineTo(W+M.availableWidth+ai.scaleTickSizeRight,ag-((al+1)*U))}else{ad.lineTo(W,ag-((al+1)*U))}ad.stroke()}}function af(){ad.font=ai.scaleFontStyle+" "+ai.scaleFontSize+"px "+ai.scaleFontFamily;if(ai.xAxisTop||ai.xAxisBottom){ad.textBaseline="top";if(M.rotateLabels>90){ad.save();ad.textAlign="left"}else{if(M.rotateLabels>0){ad.save();ad.textAlign="right"}else{ad.textAlign="center"}}ad.fillStyle=ai.scaleFontColor;if(ai.xAxisBottom){for(var am=0;am<aj.labels.length;am++){ad.save();if(M.rotateLabels>0){ad.translate(W+am*X+(X/2)-ai.scaleFontSize/2,M.xLabelPos);ad.rotate(-(M.rotateLabels*(Math.PI/180)));ad.fillText(fmtChartJS(ai,aj.labels[am],ai.fmtXLabel),0,0)}else{ad.fillText(fmtChartJS(ai,aj.labels[am],ai.fmtXLabel),W+am*X+(X/2),M.xLabelPos)}ad.restore()}}}ad.textAlign="right";ad.textBaseline="middle";for(var al=((ai.showYAxisMin)?-1:0);al<ae.steps;al++){if(ai.scaleShowLabels){if(ai.yAxisLeft){ad.textAlign="right";ad.fillText(fmtChartJS(ai,ae.labels[al+1],ai.fmtYLabel),W-(ai.scaleTickSizeLeft+ai.yAxisSpaceRight),ag-((al+1)*U))}if(ai.yAxisRight){ad.textAlign="left";ad.fillText(fmtChartJS(ai,ae.labels[al+1],ai.fmtYLabel),W+M.availableWidth+(ai.scaleTickSizeRight+ai.yAxisSpaceRight),ag-((al+1)*U))}}}}function aa(){var aq=Number.MIN_VALUE;var al=Number.MAX_VALUE;for(var ap=0;ap<aj.datasets.length;ap++){for(var ao=0;ao<aj.datasets[ap].data.length;ao++){if(1*aj.datasets[ap].data[ao]>aq){aq=1*aj.datasets[ap].data[ao]}if(1*aj.datasets[ap].data[ao]<al){al=1*aj.datasets[ap].data[ao]}}}if(Math.abs(aq-al)<1e-8){aq=b([aq*2,1]);al=0}if(!isNaN(ai.graphMin)){al=ai.graphMin}if(!isNaN(ai.graphMax)){aq=ai.graphMax}var an=Math.floor((Q/(O*0.66)));var am=Math.floor((Q/O*0.5));return{maxValue:aq,minValue:al,maxSteps:an,minSteps:am}}};var o=function(aj,ai,ad){var R,U,ae,O,Q,ah,Z,X,V,Y,W,ag,ab,S=0,M;if(!dynamicFunction(aj,ai,ad,"HorizontalBar")){return}var N=0;jsGraphAnnotate[ad.canvas.id]=new Array();e(ad,aj,ai,"HorizontalBar");j(ad,ai);ah=aa();Z=(ai.scaleShowLabels)?ai.scaleLabel:"";if(!ai.scaleOverride){ae=l(ai,ah.maxSteps,ah.minSteps,ah.maxValue,ah.minValue,Z);M=D(aj,ai,ad,u,w,ae.labels,true,true,true,true,true)}else{ae={steps:ai.scaleSteps,stepValue:ai.scaleStepWidth,graphMin:ai.scaleStartValue,graphMax:ai.scaleStartValue+ai.scaleSteps*ai.scaleStepWidth,labels:[]};s(ai,Z,ae.labels,ae.steps,ai.scaleStartValue,ae.graphMax,ai.scaleStepWidth);M=D(aj,ai,ad,u,w,ae.labels,true,true,true,true,true)}M.availableHeight=M.availableHeight-ai.scaleTickSizeBottom-ai.scaleTickSizeTop;M.availableWidth=M.availableWidth-ai.scaleTickSizeLeft-ai.scaleTickSizeRight;U=Math.floor(M.availableHeight/aj.labels.length);X=Math.floor(M.availableWidth/(ae.steps));if(X==0){X=(M.availableWidth/(aj.labels.length-1))}M.clrwidth=M.clrwidth-(M.availableWidth-(ae.steps*X));M.availableWidth=(ae.steps)*X;M.availableHeight=(aj.labels.length)*U;W=M.leftNotUsableSize+ai.scaleTickSizeLeft;ag=M.topNotUsableSize+M.availableHeight+ai.scaleTickSizeTop;ab=(U-ai.scaleGridLineWidth*2-(ai.barValueSpacing*2)-(ai.barDatasetSpacing*aj.datasets.length-1)-((ai.barStrokeWidth/2)*aj.datasets.length-1))/aj.datasets.length;var T=0;if(ah.minValue<0){var T=p(ai,0,ae,X)}af();h(ai,P,ac,ad,M.clrx,M.clry,M.clrwidth,M.clrheight,W+M.availableWidth/2,ag-M.availableHeight/2,W,ag,aj);function ac(an){var ak=new Array();var at=new Array();for(var aq=0;aq<aj.datasets.length;aq++){for(var ap=0;ap<aj.datasets[aq].data.length;ap++){ak[ap]=0;at[ap]=0}}for(var aq=0;aq<aj.datasets.length;aq++){for(var ap=0;ap<aj.datasets[aq].data.length;ap++){if(!(typeof(aj.datasets[aq].data[ap])=="undefined")){at[ap]+=1*aj.datasets[aq].data[ap]}}}ad.lineWidth=ai.barStrokeWidth;for(var aq=0;aq<aj.datasets.length;aq++){ad.fillStyle=aj.datasets[aq].fillColor;ad.strokeStyle=aj.datasets[aq].strokeColor;if(an>=1){if(typeof(aj.datasets[aq].title)=="string"){lgtxt=aj.datasets[aq].title.trim()}else{lgtxt=""}}for(var ap=0;ap<aj.datasets[aq].data.length;ap++){if(!(typeof(aj.datasets[aq].data[ap])=="undefined")){var ao=ag+ai.barValueSpacing-U*(ap+1)+ab*aq+ai.barDatasetSpacing*aq+ai.barStrokeWidth*aq;ad.beginPath();ad.moveTo(W+T,ao);ad.lineTo(W+an*p(ai,1*aj.datasets[aq].data[ap],ae,X)+(ai.barStrokeWidth/2),ao);ad.lineTo(W+an*p(ai,1*aj.datasets[aq].data[ap],ae,X)+(ai.barStrokeWidth/2),ao+ab);ad.lineTo(W+T,ao+ab);if(ai.barShowStroke){ad.stroke()}ad.closePath();ad.fill();ak[ap]+=1*aj.datasets[aq].data[ap];if(an>=1){if(typeof(aj.labels[ap])=="string"){lgtxt2=aj.labels[ap].trim()}else{lgtxt2=""}t1=W+T;t2=W+p(ai,1*aj.datasets[aq].data[ap],ae,X)+(ai.barStrokeWidth/2);if(t1>t2){t3=t1;t1=t2;t2=t3}jsGraphAnnotate[ad.canvas.id][N++]=["RECT",t1,ao+ab,t2,ao,lgtxt,lgtxt2,1*aj.datasets[aq].data[ap],ak[ap],at[ap],aq,ap]}}}}if(an>=1&&ai.inGraphDataShow){for(var aq=0;aq<aj.datasets.length;aq++){for(var ap=0;ap<aj.datasets[aq].data.length;ap++){ak[ap]=0}}for(var aq=0;aq<aj.datasets.length;aq++){if(typeof(aj.datasets[aq].title)=="string"){lgtxt=aj.datasets[aq].title.trim()}else{lgtxt=""}for(var ap=0;ap<aj.datasets[aq].data.length;ap++){if(!(typeof(aj.datasets[aq].data[ap])=="undefined")){if(typeof(aj.labels[ap])=="string"){lgtxt2=aj.labels[ap].trim()}ad.save();ad.textAlign=ai.inGraphDataAlign;ad.textBaseline=ai.inGraphDataVAlign;ad.font=ai.inGraphDataFontStyle+" "+ai.inGraphDataFontSize+"px "+ai.inGraphDataFontFamily;ad.fillStyle=ai.inGraphDataFontColor;var ao=ag+ai.barValueSpacing-U*(ap+1)+ab*aq+ai.barDatasetSpacing*aq+ai.barStrokeWidth*aq;t1=W+T;t2=W+p(ai,1*aj.datasets[aq].data[ap],ae,X)+(ai.barStrokeWidth/2);if(t1>t2){t3=t1;t1=t2;t2=t3}ad.beginPath();var al=0,ar=0;if(ai.inGraphDataYPosition==1){al=ao-ai.inGraphDataPaddingY+ab}else{if(ai.inGraphDataYPosition==2){al=ao+ab/2-ai.inGraphDataPaddingY}else{if(ai.inGraphDataYPosition==3){al=ao-ai.inGraphDataPaddingY}}}if(ai.inGraphDataXPosition==1){ar=W+T+ai.inGraphDataPaddingX}else{if(ai.inGraphDataXPosition==2){ar=W+(p(ai,1*aj.datasets[aq].data[ap],ae,X)+(ai.barStrokeWidth/2))/2+ai.inGraphDataPaddingX}else{if(ai.inGraphDataXPosition==3){ar=W+p(ai,1*aj.datasets[aq].data[ap],ae,X)+(ai.barStrokeWidth/2)+ai.inGraphDataPaddingX}}}ad.translate(ar,al);var am=tmplbis(ai.inGraphDataTmpl,{config:ai,v1:fmtChartJS(ai,lgtxt,ai.fmtV1),v2:fmtChartJS(ai,lgtxt2,ai.fmtV2),v3:fmtChartJS(ai,1*aj.datasets[aq].data[ap],ai.fmtV3),v4:fmtChartJS(ai,ak[ap],ai.fmtV4),v5:fmtChartJS(ai,at[ap],ai.fmtV5),v6:roundToWithThousands(ai,fmtChartJS(ai,100*aj.datasets[aq].data[ap]/at[ap],ai.fmtV6),ai.roundPct),v7:fmtChartJS(ai,t1,ai.fmtV7),v8:fmtChartJS(ai,ao+ab,ai.fmtV8),v9:fmtChartJS(ai,t2,ai.fmtV9),v10:fmtChartJS(ai,ao,ai.fmtV10),v11:fmtChartJS(ai,aq,ai.fmtV11),v12:fmtChartJS(ai,ap,ai.fmtV12)});ad.rotate(ai.inGraphDataRotate*(Math.PI/180));ad.fillText(am,0,0);ad.restore();ak[ap]+=1*aj.datasets[aq].data[ap]}}}}}function P(){ad.lineWidth=ai.scaleLineWidth;ad.strokeStyle=ai.scaleLineColor;ad.beginPath();ad.moveTo(W-ai.scaleTickSizeLeft,ag);ad.lineTo(W+M.availableWidth+ai.scaleTickSizeRight,ag);ad.stroke();for(var al=((ai.showYAxisMin)?-1:0);al<ae.steps;al++){if(al>=0){ad.beginPath();ad.moveTo(W+al*X,ag+ai.scaleTickSizeBottom);ad.lineWidth=ai.scaleGridLineWidth;ad.strokeStyle=ai.scaleGridLineColor;if(ai.scaleShowGridLines&&al>0&&al%ai.scaleXGridLinesStep==0){ad.lineTo(W+al*X,ag-M.availableHeight-ai.scaleTickSizeTop)}else{ad.lineTo(W+al*X,ag)}ad.stroke()}}ad.lineWidth=ai.scaleLineWidth;ad.strokeStyle=ai.scaleLineColor;ad.beginPath();ad.moveTo(W,ag+ai.scaleTickSizeBottom);ad.lineTo(W,ag-M.availableHeight-ai.scaleTickSizeTop);ad.stroke();for(var ak=0;ak<aj.labels.length;ak++){ad.beginPath();ad.moveTo(W-ai.scaleTickSizeLeft,ag-((ak+1)*U));ad.lineWidth=ai.scaleGridLineWidth;ad.strokeStyle=ai.scaleGridLineColor;if(ai.scaleShowGridLines&&ak%ai.scaleYGridLinesStep==0){ad.lineTo(W+M.availableWidth+ai.scaleTickSizeRight,ag-((ak+1)*U))}else{ad.lineTo(W,ag-((ak+1)*U))}ad.stroke()}}function af(){ad.font=ai.scaleFontStyle+" "+ai.scaleFontSize+"px "+ai.scaleFontFamily;if(ai.xAxisTop||ai.xAxisBottom){ad.textBaseline="top";if(M.rotateLabels>90){ad.save();ad.textAlign="left"}else{if(M.rotateLabels>0){ad.save();ad.textAlign="right"}else{ad.textAlign="center"}}ad.fillStyle=ai.scaleFontColor;if(ai.xAxisBottom){for(var al=((ai.showYAxisMin)?-1:0);al<ae.steps;al++){ad.save();if(M.rotateLabels>0){ad.translate(W+(al+1)*X-ai.scaleFontSize/2,M.xLabelPos);ad.rotate(-(M.rotateLabels*(Math.PI/180)));ad.fillText(fmtChartJS(ai,ae.labels[al+1],ai.fmtYLabel),0,0)}else{ad.fillText(fmtChartJS(ai,ae.labels[al+1],ai.fmtYLabel),W+(al+1)*X,M.xLabelPos)}ad.restore()}}}ad.textAlign="right";ad.textBaseline="middle";for(var ak=0;ak<aj.labels.length;ak++){if(ai.scaleShowLabels){if(ai.yAxisLeft){ad.textAlign="right";ad.fillText(fmtChartJS(ai,aj.labels[ak],ai.fmtXLabel),W-(ai.scaleTickSizeLeft+ai.yAxisSpaceRight),ag-(ak*U)-U/2)}if(ai.yAxisRight){ad.textAlign="left";ad.fillText(fmtChartJS(ai,aj.labels[ak],ai.fmtXLabel),W+M.availableWidth+(ai.scaleTickSizeRight+ai.yAxisSpaceRight),ag-(ak*U)-U/2)}}}}function aa(){var ap=Number.MIN_VALUE;var ak=Number.MAX_VALUE;for(var ao=0;ao<aj.datasets.length;ao++){for(var an=0;an<aj.datasets[ao].data.length;an++){if(1*aj.datasets[ao].data[an]>ap){ap=1*aj.datasets[ao].data[an]}if(1*aj.datasets[ao].data[an]<ak){ak=1*aj.datasets[ao].data[an]}}}if(Math.abs(ap-ak)<1e-8){ap=b([ap*2,1]);ak=0}if(!isNaN(ai.graphMin)){ak=ai.graphMin}if(!isNaN(ai.graphMax)){ap=ai.graphMax}var am=Math.floor((Q/(O*0.66)));var al=Math.floor((Q/O*0.5));return{maxValue:ap,minValue:ak,maxSteps:am,minSteps:al}}};function p(N,Q,O,S){if(!N.logarithmic){var R=O.steps*O.stepValue;var P=Q-O.graphMin;var M=n(P/R,1,0);return(S*O.steps)*M}else{return n(E(Q)*S-B(O.graphMin)*S,undefined,0)}}function h(ab,O,M,U,W,V,P,Z,S,R,Y,X,ad){var ac=0;if(isIE()<9&&isIE()!=false){ab.animation=false}var ae=(ab.animation)?1/n(ab.animationSteps,Number.MAX_VALUE,1):1,T=a[ab.animationEasing],aa=(ab.animation)?0:1;if(typeof O!=="function"){O=function(){}}if(ab.clearRect){g(N)}else{N()}function Q(){var af=(ab.animation)?n(T(aa),null,0):1;if(1*ac>=1*n(ab.animationSteps,Number.MAX_VALUE,1)||ab.animation==false){af=1}else{if(af>=1){af=0.9999}}if(!(isIE()<9&&isIE()!=false)&&ab.clearRect){U.clearRect(W,V,P,Z)}K(U,ab,S,R,Y,X,false,ad,af,ac);if(ab.scaleOverlay){M(af);O()}else{O();M(af)}K(U,ab,S,R,Y,X,true,ad,af,ac)}function N(){ac++;aa+=ae;if(ac==ab.animationSteps||ab.animation==false){aa=1}Q();if(aa<1){g(N)}else{if(typeof ab.onAnimationComplete=="function"){ab.onAnimationComplete()}}}}var g=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(M){window.setTimeout(M,1000/60)}})();function l(O,R,X,T,Z,M){var Y,N,P,V,aa,U,W,Q;if(!O.logarithmic){U=T-Z;W=B(U);Y=Math.floor(Z/(1*Math.pow(10,W)))*Math.pow(10,W);N=Math.ceil(T/(1*Math.pow(10,W)))*Math.pow(10,W)}else{Y=Math.pow(10,B(Z));N=Math.pow(10,B(T)+1);W=B(N)-B(Y)}P=N-Y;V=Math.pow(10,W);aa=Math.round(P/V);if(!O.logarithmic){while(aa<X||aa>R){if(aa<X){V/=2;aa=Math.round(P/V)}else{V*=2;aa=Math.round(P/V)}}}else{aa=W}var S=[];s(O,M,S,aa,Y,N,V);return{steps:aa,stepValue:V,graphMin:Y,labels:S,maxValue:T}}function B(M){return Math.floor(Math.log(M)/Math.LN10)}function s(O,M,Q,U,S,N,R){if(M){if(!O.logarithmic){for(var P=0;P<U+1;P++){Q.push(m(M,{value:fmtChartJS(O,1*((S+(R*P)).toFixed(H(R))),O.fmtYLabel)}))}}else{var T=S;while(T<N){Q.push(m(M,{value:fmtChartJS(O,1*T.toFixed(H(R)),O.fmtYLabel)}));T*=10}}}}function b(M){return Math.max.apply(Math,M)}function L(M){return Math.min.apply(Math,M)}function k(N,M){if(!N){return M}else{return N}}function r(M){return !isNaN(parseFloat(M))&&isFinite(M)}function n(M,O,N){if(r(O)){if(M>O){return O}}if(r(N)){if(M<N){return N}}return M}function H(M){var N;if(M%1!=0){return M.toString().split(".")[1].length}else{return 0}}function G(P,N){var M={};for(var O in P){M[O]=P[O]}for(var O in N){M[O]=N[O]}return M}var q={};function m(O,N){var M=!/\W/.test(O)?q[O]=q[O]||m(document.getElementById(O).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+O.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return N?M(N):M}function K(ab,P,N,M,aa,Z,U,W,Y,O){var V,X,S,R,Q,T;for(V=0;V<P.crossText.length;V++){if(P.crossText[V]!=""&&P.crossTextOverlay[L([V,P.crossTextOverlay.length-1])]==U&&((O==1&&P.crossTextIter[L([V,P.crossTextIter.length-1])]=="first")||P.crossTextIter[L([V,P.crossTextIter.length-1])]==O||P.crossTextIter[L([V,P.crossTextIter.length-1])]=="all"||(Y==1&&P.crossTextIter[L([V,P.crossTextIter.length-1])]=="last"))){ab.save();ab.beginPath();ab.font=P.crossTextFontStyle[L([V,P.crossTextFontStyle.length-1])]+" "+P.crossTextFontSize[L([V,P.crossTextFontSize.length-1])]+"px "+P.crossTextFontFamily[L([V,P.crossTextFontFamily.length-1])];ab.fillStyle=P.crossTextFontColor[L([V,P.crossTextFontColor.length-1])];textAlign=P.crossTextAlign[L([V,P.crossTextAlign.length-1])];textBaseline=P.crossTextBaseline[L([V,P.crossTextBaseline.length-1])];S=1*P.crossTextPosX[L([V,P.crossTextPosX.length-1])];R=1*P.crossTextPosY[L([V,P.crossTextPosY.length-1])];switch(1*P.crossTextRelativePosX[L([V,P.crossTextRelativePosX.length-1])]){case 0:if(textAlign=="default"){textAlign="left"}break;case 1:S+=aa;if(textAlign=="default"){textAlign="right"}break;case 2:S+=N;if(textAlign=="default"){textAlign="center"}break;case -2:S+=d.canvas.width/2;if(textAlign=="default"){textAlign="center"}break;case 3:S+=S+2*N-aa;if(textAlign=="default"){textAlign="left"}break;case 4:S+=d.canvas.width;if(textAlign=="default"){textAlign="right"}break;default:S+=N;if(textAlign=="default"){textAlign="center"}break}switch(1*P.crossTextRelativePosY[L([V,P.crossTextRelativePosY.length-1])]){case 0:if(textBaseline=="default"){textBaseline="top"}break;case 3:R+=Z;if(textBaseline=="default"){textBaseline="top"}break;case 2:R+=M;if(textBaseline=="default"){textBaseline="middle"}break;case -2:R+=d.canvas.height/2;if(textBaseline=="default"){textBaseline="middle"}break;case 1:R+=R+2*M-Z;if(textBaseline=="default"){textBaseline="bottom"}break;case 4:R+=d.canvas.height;if(textBaseline=="default"){textBaseline="bottom"}break;default:R+=M;if(textBaseline=="default"){textBaseline="middle"}break}ab.textAlign=textAlign;ab.textBaseline=textBaseline;ab.translate(1*S,1*R);ab.rotate(P.crossTextAngle[L([V,P.crossTextAngle.length-1])]);if(P.crossText[V].substring(0,1)=="%"){if(typeof P.crossTextFunction=="function"){X=P.crossTextFunction(V,P.crossText[V],ab,P,N,M,aa,Z,U,W,Y)}}else{X=P.crossText[V]}ab.fillText(X,0,0);ab.stroke();ab.restore()}}}function D(ax,ai,aa,R,N,af,ao,W,av,al,U){if(ai.canvasBackgroundColor!="none"){aa.canvas.style.background=ai.canvasBackgroundColor}var S=0;var ap=0;var an=0;var T=0;var aj=0;var ae=0;var ak=0;var M=0;var P=0;var ar=0;var aw=0;var X=0;var Y=0;var V=0;var am=0;var ac=0;var au=0;var ad=0;var O=0;var aA=0;var ap=0;var an=0;var az=0;var ab=0;var Q=1;var ay=0;var ah=0;var Z=0;var at=0;if(ai.canvasBorders){S=ai.canvasBordersWidth}if(av){aa.font=ai.scaleFontStyle+" "+ai.scaleFontSize+"px "+ai.scaleFontFamily;for(var aq=0;aq<ax.labels.length;aq++){var ag=aa.measureText(fmtChartJS(ai,ax.labels[aq],ai.fmtXLabel)).width;Q=(ag>Q)?ag:Q}}widestYLabel=1;if(av){if(af!=null){aa.font=ai.scaleFontStyle+" "+ai.scaleFontSize+"px "+ai.scaleFontFamily;for(var aq=af.length-1;aq>=0;aq--){if(typeof(af[aq])=="string"){if(af[aq].trim()!=""){var ag=aa.measureText(fmtChartJS(ai,af[aq],ai.fmtYLabel)).width;widestYLabel=(ag>widestYLabel)?ag:widestYLabel}}}}}ay=S+ai.spaceLeft;ah=S+ai.spaceRight;if(av){if(typeof(ai.yAxisLabel)!="undefined"){if(ai.yAxisLabel.trim()!=""){ap=(ai.yAxisFontSize+ai.yAxisLabelSpaceLeft+ai.yAxisLabelSpaceRight);yAxisLabelPosLeft=S+ai.spaceLeft+ai.yAxisLabelSpaceLeft+ai.yAxisFontSize;yAxisLabelPosRight=N-S-ai.spaceRight-ai.yAxisLabelSpaceLeft-ai.yAxisFontSize}}if(ai.yAxisLeft){if(W==false){ay=S+ai.spaceLeft+ap+widestYLabel+ai.yAxisSpaceLeft+ai.yAxisSpaceRight}else{ay=S+ai.spaceLeft+ap+Q+ai.yAxisSpaceLeft+ai.yAxisSpaceRight}}if(ai.yAxisRight){if(W==false){ah=S+ai.spaceRight+ap+widestYLabel+ai.yAxisSpaceLeft+ai.yAxisSpaceRight}else{ah=S+ai.spaceRight+ap+Q+ai.yAxisSpaceLeft+ai.yAxisSpaceRight}}}availableWidth=N-ay-ah;if(ai.graphTitle.trim()!=""){T=(ai.graphTitleFontSize+ai.graphTitleSpaceBefore+ai.graphTitleSpaceAfter);aj=S+ai.spaceTop+T-ai.graphTitleSpaceAfter}if(ai.graphSubTitle.trim()!=""){ae=(ai.graphSubTitleFontSize+ai.graphSubTitleSpaceBefore+ai.graphSubTitleSpaceAfter);ak=S+ai.spaceTop+T+ae-ai.graphSubTitleSpaceAfter}if(av){if(typeof(ai.yAxisUnit)!="undefined"){if(ai.yAxisUnit.trim()!=""){ar=(ai.yAxisUnitFontSize+ai.yAxisUnitSpaceBefore+ai.yAxisUnitSpaceAfter);aw=S+ai.spaceTop+T+ae+ar-ai.yAxisUnitSpaceAfter}}}topNotUsableSize=S+ai.spaceTop+T+ae+ar+ai.graphSpaceBefore;if(typeof(ai.footNote)!="undefined"){if(ai.footNote.trim()!=""){M=(ai.footNoteFontSize+ai.footNoteSpaceBefore+ai.footNoteSpaceAfter);P=R-ai.spaceBottom-S-ai.footNoteSpaceAfter}}if(typeof(ai.legend)!="undefined"){if(ai.legend==true){aa.font=ai.legendFontStyle+" "+ai.legendFontSize+"px "+ai.legendFontFamily;if(al){for(var aq=ax.datasets.length-1;aq>=0;aq--){if(typeof(ax.datasets[aq].title)=="string"){if(ax.datasets[aq].title.trim()!=""){Y++;var ag=aa.measureText(fmtChartJS(ai,ax.datasets[aq].title,ai.fmtLegend)).width;X=(ag>X)?ag:X}}}}else{for(var aq=ax.length-1;aq>=0;aq--){if(typeof(ax[aq].title)=="string"){if(ax[aq].title.trim()!=""){Y++;var ag=aa.measureText(fmtChartJS(ai,ax[aq].title,ai.fmtLegend)).width;X=(ag>X)?ag:X}}}}if(Y>1){X+=ai.legendBlockSize+ai.legendSpaceBetweenBoxAndText;availableLegendWidth=N-ai.spaceLeft-ai.spaceRight-2*(S)-ai.legendSpaceLeftText-ai.legendSpaceRightText;if(ai.legendBorders==true){availableLegendWidth-=2*(ai.legendBordersWidth)-ai.legendBordersSpaceLeft-ai.legendBordersSpaceRight}maxLegendOnLine=Math.floor((availableLegendWidth+ai.legendSpaceBetweenTextHorizontal)/(X+ai.legendSpaceBetweenTextHorizontal));V=Math.ceil(Y/maxLegendOnLine);am=Math.ceil(Y/V);ac=V*(ai.legendFontSize+ai.legendSpaceBetweenTextVertical)-ai.legendSpaceBetweenTextVertical+ai.legendSpaceBeforeText+ai.legendSpaceAfterText;ad=R-S-ai.spaceBottom-M-ac+ai.legendSpaceBeforeText+ai.legendFontSize;au=ai.spaceLeft+(N-ai.spaceLeft-ai.spaceRight-am*(X+ai.legendSpaceBetweenTextHorizontal)+ai.legendSpaceBetweenTextHorizontal)/2;if(ai.legendBorders==true){ac+=2*ai.legendBordersWidth+ai.legendBordersSpaceBefore+ai.legendBordersSpaceAfter;ad-=(ai.legendBordersWidth+ai.legendBordersSpaceAfter);aA=Math.floor(R-S-ai.spaceBottom-M-ac+(ai.legendBordersWidth/2)+ai.legendBordersSpaceBefore);O=Math.floor(au-ai.legendSpaceLeftText-(ai.legendBordersWidth/2));legendBorderHeight=Math.ceil(ac-ai.legendBordersWidth)-ai.legendBordersSpaceBefore-ai.legendBordersSpaceAfter;legendBorderWidth=Math.ceil(am*(X+ai.legendSpaceBetweenTextHorizontal))-ai.legendSpaceBetweenTextHorizontal+ai.legendBordersWidth+ai.legendSpaceRightText+ai.legendSpaceLeftText}}}}if(av){if(typeof(ai.xAxisLabel)!="undefined"){if(ai.xAxisLabel.trim()!=""){az=(ai.xAxisFontSize+ai.xAxisLabelSpaceBefore+ai.xAxisLabelSpaceAfter);xAxisLabelPos=R-S-ai.spaceBottom-M-ac-ai.xAxisLabelSpaceAfter}}}xLabelWidth=0;if(av&&(ai.xAxisBottom||ai.xAxisTop)){if(W==false){widestLabel=Q;nblab=ax.labels.length}else{widestLabel=widestYLabel;nblab=af.length}if(ai.rotateLabels=="smart"){Z=0;if((availableWidth+ai.xAxisSpaceBetweenLabels)/nblab<(widestLabel+ai.xAxisSpaceBetweenLabels)){Z=45;if(availableWidth/nblab<Math.abs(Math.cos(Z*Math.PI/180)*widestLabel)){Z=90}}}else{Z=ai.rotateLabels;if(Z<0){Z=0}if(Z>180){Z=180}}if(Z>90){Z+=180}ab=Math.abs(Math.sin(Z*Math.PI/180)*widestLabel)+Math.abs(Math.sin((Z+90)*Math.PI/180)*ai.scaleFontSize)+ai.xAxisSpaceBefore+ai.xAxisSpaceAfter;at=R-S-ai.spaceBottom-M-ac-az-(ab-ai.xAxisSpaceBefore)-ai.graphSpaceAfter;xLabelWidth=Math.abs(Math.cos(Z*Math.PI/180)*widestLabel)+Math.abs(Math.cos((Z+90)*Math.PI/180)*ai.scaleFontSize);ay=b([ay,S+ai.spaceLeft+xLabelWidth/2]);ah=b([ah,S+ai.spaceRight+xLabelWidth/2]);availableWidth=N-ay-ah}if(ai.xAxisBottom){bottomNotUsableHeightWithoutXLabels=S+ai.spaceBottom+M+ac+az;bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+ab+ai.graphSpaceAfter;availableHeight=R-topNotUsableSize-bottomNotUsableHeightWithXLabels}else{bottomNotUsableHeightWithoutXLabels=S+ai.spaceBottom+M+ac+az;bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+ai.graphSpaceAfter;availableHeight=R-topNotUsableSize-bottomNotUsableHeightWithXLabels}if(S>0){aa.save();aa.beginPath();aa.lineWidth=2*S;aa.strokeStyle=ai.canvasBordersColor;aa.moveTo(0,0);aa.lineTo(0,R);aa.lineTo(N,R);aa.lineTo(N,0);aa.lineTo(0,0);aa.stroke();aa.restore()}if(T>0){aa.save();aa.beginPath();aa.font=ai.graphTitleFontStyle+" "+ai.graphTitleFontSize+"px "+ai.graphTitleFontFamily;aa.fillStyle=ai.graphTitleFontColor;aa.textAlign="center";aa.textBaseline="bottom";aa.translate(ai.spaceLeft+(N-ai.spaceLeft-ai.spaceRight)/2,aj);aa.fillText(ai.graphTitle,0,0);aa.stroke();aa.restore()}if(ae>0){aa.save();aa.beginPath();aa.font=ai.graphSubTitleFontStyle+" "+ai.graphSubTitleFontSize+"px "+ai.graphSubTitleFontFamily;aa.fillStyle=ai.graphSubTitleFontColor;aa.textAlign="center";aa.textBaseline="bottom";aa.translate(ai.spaceLeft+(N-ai.spaceLeft-ai.spaceRight)/2,ak);aa.fillText(ai.graphSubTitle,0,0);aa.stroke();aa.restore()}if(ar>0){if(ai.yAxisLeft){aa.save();aa.beginPath();aa.font=ai.yAxisUnitFontStyle+" "+ai.yAxisUnitFontSize+"px "+ai.yAxisUnitFontFamily;aa.fillStyle=ai.yAxisUnitFontColor;aa.textAlign="center";aa.textBaseline="bottom";aa.translate(ay,aw);aa.fillText(ai.yAxisUnit,0,0);aa.stroke();aa.restore()}if(ai.yAxisRight){aa.save();aa.beginPath();aa.font=ai.yAxisUnitFontStyle+" "+ai.yAxisUnitFontSize+"px "+ai.yAxisUnitFontFamily;aa.fillStyle=ai.yAxisUnitFontColor;aa.textAlign="center";aa.textBaseline="bottom";aa.translate(N-ah,aw);aa.fillText(ai.yAxisUnit,0,0);aa.stroke();aa.restore()}}if(ap>0){if(ai.yAxisLeft){aa.save();aa.beginPath();aa.font=ai.yAxisFontStyle+" "+ai.yAxisFontSize+"px "+ai.yAxisFontFamily;aa.fillStyle=ai.yAxisFontColor;aa.textAlign="center";aa.textBaseline="bottom";aa.translate(yAxisLabelPosLeft,topNotUsableSize+(availableHeight/2));aa.rotate(-(90*(Math.PI/180)));aa.fillText(ai.yAxisLabel,0,0);aa.stroke();aa.restore()}if(ai.yAxisRight){aa.save();aa.beginPath();aa.font=ai.yAxisFontStyle+" "+ai.yAxisFontSize+"px "+ai.yAxisFontFamily;aa.fillStyle=ai.yAxisFontColor;aa.textAlign="center";aa.textBaseline="bottom";aa.translate(yAxisLabelPosRight,topNotUsableSize+(availableHeight/2));aa.rotate(+(90*(Math.PI/180)));aa.fillText(ai.yAxisLabel,0,0);aa.stroke();aa.restore()}}if(az>0){if(ai.xAxisBottom){aa.save();aa.beginPath();aa.font=ai.xAxisFontStyle+" "+ai.xAxisFontSize+"px "+ai.xAxisFontFamily;aa.fillStyle=ai.xAxisFontColor;aa.textAlign="center";aa.textBaseline="bottom";aa.translate(ay+(availableWidth/2),xAxisLabelPos);aa.fillText(ai.xAxisLabel,0,0);aa.stroke();aa.restore()}}if(Y>1){if(ai.legendBorders==true){aa.save();aa.beginPath();aa.lineWidth=ai.legendBordersWidth;aa.strokeStyle=ai.legendBordersColors;aa.moveTo(O,aA);aa.lineTo(O,aA+legendBorderHeight);aa.lineTo(O+legendBorderWidth,aA+legendBorderHeight);aa.lineTo(O+legendBorderWidth,aA);aa.lineTo(O,aA);aa.lineTo(O+legendBorderWidth,aA);aa.lineTo(O,aA);aa.lineTo(O,aA+legendBorderHeight);aa.stroke();aa.restore()}nbcols=am-1;ypos=ad-(ai.legendFontSize+ai.legendSpaceBetweenTextVertical);xpos=0;if(al){fromi=ax.datasets.length}else{fromi=ax.length}for(var aq=fromi-1;aq>=0;aq--){orderi=aq;if(ao){if(al){orderi=ax.datasets.length-aq-1}else{orderi=ax.length-aq-1}}if(al){tpof=typeof(ax.datasets[orderi].title)}else{tpof=typeof(ax[orderi].title)}if(tpof=="string"){if(al){lgtxt=fmtChartJS(ai,ax.datasets[orderi].title,ai.fmtLegend).trim()}else{lgtxt=fmtChartJS(ai,ax[orderi].title,ai.fmtLegend).trim()}if(lgtxt!=""){nbcols++;if(nbcols==am){nbcols=0;xpos=au;ypos+=ai.legendFontSize+ai.legendSpaceBetweenTextVertical}else{xpos+=X+ai.legendSpaceBetweenTextHorizontal}aa.save();aa.beginPath();if(al){aa.strokeStyle=ax.datasets[orderi].strokeColor}else{aa.strokeStyle=ax[orderi].color}if(U){aa.lineWidth=1;aa.moveTo(xpos,ypos);aa.lineTo(xpos+ai.legendBlockSize,ypos);aa.lineTo(xpos+ai.legendBlockSize,ypos-ai.legendFontSize);aa.lineTo(xpos,ypos-ai.legendFontSize);aa.lineTo(xpos,ypos);aa.closePath();if(al){aa.fillStyle=ax.datasets[orderi].fillColor}else{aa.fillStyle=ax[orderi].color}aa.fill()}else{aa.lineWidth=ai.datasetStrokeWidth;aa.moveTo(xpos+2,ypos-(ai.legendFontSize/2));aa.lineTo(xpos+2+ai.legendBlockSize,ypos-(ai.legendFontSize/2))}aa.stroke();aa.restore();aa.save();aa.beginPath();aa.font=ai.legendFontStyle+" "+ai.legendFontSize+"px "+ai.legendFontFamily;aa.fillStyle=ai.legendFontColor;aa.textAlign="left";aa.textBaseline="bottom";aa.translate(xpos+ai.legendBlockSize+ai.legendSpaceBetweenBoxAndText,ypos);aa.fillText(lgtxt,0,0);aa.stroke();aa.restore()}}}}if(ai.footNote.trim()!=""){aa.save();aa.font=ai.footNoteFontStyle+" "+ai.footNoteFontSize+"px "+ai.footNoteFontFamily;aa.fillStyle=ai.footNoteFontColor;aa.textAlign="center";aa.textBaseline="bottom";aa.translate(ay+(availableWidth/2),P);aa.fillText(ai.footNote,0,0);aa.stroke();aa.restore()}clrx=ay;clrwidth=availableWidth;clry=topNotUsableSize;clrheight=availableHeight;return{leftNotUsableSize:ay,rightNotUsableSize:ah,availableWidth:availableWidth,topNotUsableSize:topNotUsableSize,bottomNotUsableHeightWithoutXLabels:bottomNotUsableHeightWithoutXLabels,bottomNotUsableHeightWithXLabels:bottomNotUsableHeightWithXLabels,availableHeight:availableHeight,widestXLabel:Q,rotateLabels:Z,xLabelPos:at,clrx:clrx,clry:clry,clrwidth:clrwidth,clrheight:clrheight}}function E(M){return Math.log(M)/Math.LN10}function j(M,N){if(N.clearRect){v(M);M.clearRect(0,0,w,u)}else{v(M);M.clearRect(0,0,w,u);M.fillStyle=N.savePngBackgroundColor;M.strokeStyle=N.savePngBackgroundColor;M.beginPath();M.moveTo(0,0);M.lineTo(0,M.canvas.height);M.lineTo(M.canvas.width,M.canvas.height);M.lineTo(M.canvas.width,0);M.lineTo(0,0);M.stroke();M.fill()}}function e(M,P,N,O){if(N.annotateDisplay==true){if(cursorDivCreated==false){oCursor=new makeCursorObj("divCursor")}if(isIE()<9&&isIE()!=false){M.canvas.attachEvent("on"+N.annotateFunction.split(" ")[0],function(Q){if((N.annotateFunction.split(" ")[1]=="left"&&Q.which==1)||(N.annotateFunction.split(" ")[1]=="middle"&&Q.which==2)||(N.annotateFunction.split(" ")[1]=="right"&&Q.which==3)||(typeof(N.annotateFunction.split(" ")[1])!="string")){doMouseMove(M,N,Q)}})}else{M.canvas.addEventListener(N.annotateFunction.split(" ")[0],function(Q){if((N.annotateFunction.split(" ")[1]=="left"&&Q.which==1)||(N.annotateFunction.split(" ")[1]=="middle"&&Q.which==2)||(N.annotateFunction.split(" ")[1]=="right"&&Q.which==3)||(typeof(N.annotateFunction.split(" ")[1])!="string")){doMouseMove(M,N,Q)}},false)}}if(N.savePng){if(isIE()<9&&isIE()!=false){M.canvas.attachEvent("on"+N.savePngFunction.split(" ")[0],function(Q){if((N.savePngFunction.split(" ")[1]=="left"&&Q.which==1)||(N.savePngFunction.split(" ")[1]=="middle"&&Q.which==2)||(N.savePngFunction.split(" ")[1]=="right"&&Q.which==3)||(typeof(N.savePngFunction.split(" ")[1])!="string")){saveCanvas(M,P,N,O)}})}else{M.canvas.addEventListener(N.savePngFunction.split(" ")[0],function(Q){if((N.savePngFunction.split(" ")[1]=="left"&&Q.which==1)||(N.savePngFunction.split(" ")[1]=="middle"&&Q.which==2)||(N.savePngFunction.split(" ")[1]=="right"&&Q.which==3)||(typeof(N.savePngFunction.split(" ")[1])!="string")){saveCanvas(M,P,N,O)}},false)}}}};
